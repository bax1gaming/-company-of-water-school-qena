(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function oi(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const fe={},ms=[],dt=()=>{},ic=()=>!1,qr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ai=t=>t.startsWith("onUpdate:"),Re=Object.assign,li=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},oc=Object.prototype.hasOwnProperty,ce=(t,e)=>oc.call(t,e),G=Array.isArray,vs=t=>ur(t)==="[object Map]",Vr=t=>ur(t)==="[object Set]",Di=t=>ur(t)==="[object Date]",Y=t=>typeof t=="function",xe=t=>typeof t=="string",ft=t=>typeof t=="symbol",ye=t=>t!==null&&typeof t=="object",na=t=>(ye(t)||Y(t))&&Y(t.then)&&Y(t.catch),ia=Object.prototype.toString,ur=t=>ia.call(t),ac=t=>ur(t).slice(8,-1),oa=t=>ur(t)==="[object Object]",ci=t=>xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ls=oi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},lc=/-(\w)/g,Qe=Hr(t=>t.replace(lc,(e,s)=>s?s.toUpperCase():"")),cc=/\B([A-Z])/g,Zt=Hr(t=>t.replace(cc,"-$1").toLowerCase()),Wr=Hr(t=>t.charAt(0).toUpperCase()+t.slice(1)),gn=Hr(t=>t?`on${Wr(t)}`:""),Mt=(t,e)=>!Object.is(t,e),Er=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Un=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Ar=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Mi;const Kr=()=>Mi||(Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ui(t){if(G(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=xe(r)?hc(r):ui(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(xe(t)||ye(t))return t}const uc=/;(?![^(]*\))/g,dc=/:([^]+)/,fc=/\/\*[^]*?\*\//g;function hc(t){const e={};return t.replace(fc,"").split(uc).forEach(s=>{if(s){const r=s.split(dc);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ut(t){let e="";if(xe(t))e=t;else if(G(t))for(let s=0;s<t.length;s++){const r=ut(t[s]);r&&(e+=r+" ")}else if(ye(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const pc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gc=oi(pc);function aa(t){return!!t||t===""}function mc(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=bs(t[r],e[r]);return s}function bs(t,e){if(t===e)return!0;let s=Di(t),r=Di(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=ft(t),r=ft(e),s||r)return t===e;if(s=G(t),r=G(e),s||r)return s&&r?mc(t,e):!1;if(s=ye(t),r=ye(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!bs(t[o],e[o]))return!1}}return String(t)===String(e)}function vc(t,e){return t.findIndex(s=>bs(s,e))}const la=t=>!!(t&&t.__v_isRef===!0),F=t=>xe(t)?t:t==null?"":G(t)||ye(t)&&(t.toString===ia||!Y(t.toString))?la(t)?F(t.value):JSON.stringify(t,ca,2):String(t),ca=(t,e)=>la(e)?ca(t,e.value):vs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[mn(r,i)+" =>"]=n,s),{})}:Vr(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>mn(s))}:ft(e)?mn(e):ye(e)&&!G(e)&&!oa(e)?String(e):e,mn=(t,e="")=>{var s;return ft(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ae;class ua{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!e&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ae;try{return Ae=this,e()}finally{Ae=s}}}on(){++this._on===1&&(this.prevScope=Ae,Ae=this)}off(){this._on>0&&--this._on===0&&(Ae=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function da(t){return new ua(t)}function fa(){return Ae}function yc(t,e=!1){Ae&&Ae.cleanups.push(t)}let me;const vn=new WeakSet;class ha{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vn.has(this)&&(vn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ga(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ni(this),ma(this);const e=me,s=tt;me=this,tt=!0;try{return this.fn()}finally{va(this),me=e,tt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hi(e);this.deps=this.depsTail=void 0,Ni(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ln(this)&&this.run()}get dirty(){return Ln(this)}}let pa=0,Ds,Ms;function ga(t,e=!1){if(t.flags|=8,e){t.next=Ms,Ms=t;return}t.next=Ds,Ds=t}function di(){pa++}function fi(){if(--pa>0)return;if(Ms){let e=Ms;for(Ms=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ds;){let e=Ds;for(Ds=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function ma(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function va(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),hi(r),bc(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Ln(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ya(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ya(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Qs)||(t.globalVersion=Qs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ln(t))))return;t.flags|=2;const e=t.dep,s=me,r=tt;me=t,tt=!0;try{ma(t);const n=t.fn(t._value);(e.version===0||Mt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{me=s,tt=r,va(t),t.flags&=-3}}function hi(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)hi(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function bc(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let tt=!0;const ba=[];function kt(){ba.push(tt),tt=!1}function Et(){const t=ba.pop();tt=t===void 0?!0:t}function Ni(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=me;me=void 0;try{e()}finally{me=s}}}let Qs=0;class _c{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!me||!tt||me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==me)s=this.activeLink=new _c(me,this),me.deps?(s.prevDep=me.depsTail,me.depsTail.nextDep=s,me.depsTail=s):me.deps=me.depsTail=s,_a(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=me.depsTail,s.nextDep=void 0,me.depsTail.nextDep=s,me.depsTail=s,me.deps===s&&(me.deps=r)}return s}trigger(e){this.version++,Qs++,this.notify(e)}notify(e){di();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{fi()}}}function _a(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)_a(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Or=new WeakMap,Yt=Symbol(""),Dn=Symbol(""),Ys=Symbol("");function Oe(t,e,s){if(tt&&me){let r=Or.get(t);r||Or.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new pi),n.map=r,n.key=s),n.track()}}function wt(t,e,s,r,n,i){const o=Or.get(t);if(!o){Qs++;return}const a=l=>{l&&l.trigger()};if(di(),e==="clear")o.forEach(a);else{const l=G(t),u=l&&ci(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,h)=>{(h==="length"||h===Ys||!ft(h)&&h>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Ys)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Yt)),vs(t)&&a(o.get(Dn)));break;case"delete":l||(a(o.get(Yt)),vs(t)&&a(o.get(Dn)));break;case"set":vs(t)&&a(o.get(Yt));break}}fi()}function wc(t,e){const s=Or.get(t);return s&&s.get(e)}function rs(t){const e=oe(t);return e===t?e:(Oe(e,"iterate",Ys),Ge(t)?e:e.map($e))}function zr(t){return Oe(t=oe(t),"iterate",Ys),t}const xc={__proto__:null,[Symbol.iterator](){return yn(this,Symbol.iterator,$e)},concat(...t){return rs(this).concat(...t.map(e=>G(e)?rs(e):e))},entries(){return yn(this,"entries",t=>(t[1]=$e(t[1]),t))},every(t,e){return gt(this,"every",t,e,void 0,arguments)},filter(t,e){return gt(this,"filter",t,e,s=>s.map($e),arguments)},find(t,e){return gt(this,"find",t,e,$e,arguments)},findIndex(t,e){return gt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return gt(this,"findLast",t,e,$e,arguments)},findLastIndex(t,e){return gt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return gt(this,"forEach",t,e,void 0,arguments)},includes(...t){return bn(this,"includes",t)},indexOf(...t){return bn(this,"indexOf",t)},join(t){return rs(this).join(t)},lastIndexOf(...t){return bn(this,"lastIndexOf",t)},map(t,e){return gt(this,"map",t,e,void 0,arguments)},pop(){return Ps(this,"pop")},push(...t){return Ps(this,"push",t)},reduce(t,...e){return Bi(this,"reduce",t,e)},reduceRight(t,...e){return Bi(this,"reduceRight",t,e)},shift(){return Ps(this,"shift")},some(t,e){return gt(this,"some",t,e,void 0,arguments)},splice(...t){return Ps(this,"splice",t)},toReversed(){return rs(this).toReversed()},toSorted(t){return rs(this).toSorted(t)},toSpliced(...t){return rs(this).toSpliced(...t)},unshift(...t){return Ps(this,"unshift",t)},values(){return yn(this,"values",$e)}};function yn(t,e,s){const r=zr(t),n=r[e]();return r!==t&&!Ge(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Sc=Array.prototype;function gt(t,e,s,r,n,i){const o=zr(t),a=o!==t&&!Ge(t),l=o[e];if(l!==Sc[e]){const d=l.apply(t,i);return a?$e(d):d}let u=s;o!==t&&(a?u=function(d,h){return s.call(this,$e(d),h,t)}:s.length>2&&(u=function(d,h){return s.call(this,d,h,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Bi(t,e,s,r){const n=zr(t);let i=s;return n!==t&&(Ge(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,$e(a),l,t)}),n[e](i,...r)}function bn(t,e,s){const r=oe(t);Oe(r,"iterate",Ys);const n=r[e](...s);return(n===-1||n===!1)&&vi(s[0])?(s[0]=oe(s[0]),r[e](...s)):n}function Ps(t,e,s=[]){kt(),di();const r=oe(t)[e].apply(t,s);return fi(),Et(),r}const kc=oi("__proto__,__v_isRef,__isVue"),wa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ft));function Ec(t){ft(t)||(t=String(t));const e=oe(this);return Oe(e,"has",t),e.hasOwnProperty(t)}class xa{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Uc:Ca:i?Ea:ka).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=G(e);if(!n){let l;if(o&&(l=xc[s]))return l;if(s==="hasOwnProperty")return Ec}const a=Reflect.get(e,s,we(e)?e:r);return(ft(s)?wa.has(s):kc(s))||(n||Oe(e,"get",s),i)?a:we(a)?o&&ci(s)?a:a.value:ye(a)?n?Ta(a):dr(a):a}}class Sa extends xa{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Bt(i);if(!Ge(r)&&!Bt(r)&&(i=oe(i),r=oe(r)),!G(e)&&we(i)&&!we(r))return l?!1:(i.value=r,!0)}const o=G(e)&&ci(s)?Number(s)<e.length:ce(e,s),a=Reflect.set(e,s,r,we(e)?e:n);return e===oe(n)&&(o?Mt(r,i)&&wt(e,"set",s,r):wt(e,"add",s,r)),a}deleteProperty(e,s){const r=ce(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&wt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!ft(s)||!wa.has(s))&&Oe(e,"has",s),r}ownKeys(e){return Oe(e,"iterate",G(e)?"length":Yt),Reflect.ownKeys(e)}}class Cc extends xa{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const $c=new Sa,Tc=new Cc,Pc=new Sa(!0);const Mn=t=>t,yr=t=>Reflect.getPrototypeOf(t);function Ac(t,e,s){return function(...r){const n=this.__v_raw,i=oe(n),o=vs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Mn:e?Rr:$e;return!e&&Oe(i,"iterate",l?Dn:Yt),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function br(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Oc(t,e){const s={get(n){const i=this.__v_raw,o=oe(i),a=oe(n);t||(Mt(n,a)&&Oe(o,"get",n),Oe(o,"get",a));const{has:l}=yr(o),u=e?Mn:t?Rr:$e;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Oe(oe(n),"iterate",Yt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=oe(i),a=oe(n);return t||(Mt(n,a)&&Oe(o,"has",n),Oe(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=oe(a),u=e?Mn:t?Rr:$e;return!t&&Oe(l,"iterate",Yt),a.forEach((c,d)=>n.call(i,u(c),u(d),o))}};return Re(s,t?{add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear")}:{add(n){!e&&!Ge(n)&&!Bt(n)&&(n=oe(n));const i=oe(this);return yr(i).has.call(i,n)||(i.add(n),wt(i,"add",n,n)),this},set(n,i){!e&&!Ge(i)&&!Bt(i)&&(i=oe(i));const o=oe(this),{has:a,get:l}=yr(o);let u=a.call(o,n);u||(n=oe(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Mt(i,c)&&wt(o,"set",n,i):wt(o,"add",n,i),this},delete(n){const i=oe(this),{has:o,get:a}=yr(i);let l=o.call(i,n);l||(n=oe(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&wt(i,"delete",n,void 0),u},clear(){const n=oe(this),i=n.size!==0,o=n.clear();return i&&wt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ac(n,t,e)}),s}function gi(t,e){const s=Oc(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ce(s,n)&&n in r?s:r,n,i)}const Rc={get:gi(!1,!1)},jc={get:gi(!1,!0)},Ic={get:gi(!0,!1)};const ka=new WeakMap,Ea=new WeakMap,Ca=new WeakMap,Uc=new WeakMap;function Lc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dc(t){return t.__v_skip||!Object.isExtensible(t)?0:Lc(ac(t))}function dr(t){return Bt(t)?t:mi(t,!1,$c,Rc,ka)}function $a(t){return mi(t,!1,Pc,jc,Ea)}function Ta(t){return mi(t,!0,Tc,Ic,Ca)}function mi(t,e,s,r,n){if(!ye(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Dc(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Nt(t){return Bt(t)?Nt(t.__v_raw):!!(t&&t.__v_isReactive)}function Bt(t){return!!(t&&t.__v_isReadonly)}function Ge(t){return!!(t&&t.__v_isShallow)}function vi(t){return t?!!t.__v_raw:!1}function oe(t){const e=t&&t.__v_raw;return e?oe(e):t}function yi(t){return!ce(t,"__v_skip")&&Object.isExtensible(t)&&Un(t,"__v_skip",!0),t}const $e=t=>ye(t)?dr(t):t,Rr=t=>ye(t)?Ta(t):t;function we(t){return t?t.__v_isRef===!0:!1}function ne(t){return Pa(t,!1)}function Mc(t){return Pa(t,!0)}function Pa(t,e){return we(t)?t:new Nc(t,e)}class Nc{constructor(e,s){this.dep=new pi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:oe(e),this._value=s?e:$e(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Ge(e)||Bt(e);e=r?e:oe(e),Mt(e,s)&&(this._rawValue=e,this._value=r?e:$e(e),this.dep.trigger())}}function H(t){return we(t)?t.value:t}const Bc={get:(t,e,s)=>e==="__v_raw"?t:H(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return we(n)&&!we(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Aa(t){return Nt(t)?t:new Proxy(t,Bc)}function Fc(t){const e=G(t)?new Array(t.length):{};for(const s in t)e[s]=Vc(t,s);return e}class qc{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return wc(oe(this._object),this._key)}}function Vc(t,e,s){const r=t[e];return we(r)?r:new qc(t,e,s)}class Hc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new pi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&me!==this)return ga(this,!0),!0}get value(){const e=this.dep.track();return ya(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Wc(t,e,s=!1){let r,n;return Y(t)?r=t:(r=t.get,n=t.set),new Hc(r,n,s)}const _r={},jr=new WeakMap;let Gt;function Kc(t,e=!1,s=Gt){if(s){let r=jr.get(s);r||jr.set(s,r=[]),r.push(t)}}function zc(t,e,s=fe){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=A=>n?A:Ge(A)||n===!1||n===0?xt(A,1):xt(A);let c,d,h,p,w=!1,x=!1;if(we(t)?(d=()=>t.value,w=Ge(t)):Nt(t)?(d=()=>u(t),w=!0):G(t)?(x=!0,w=t.some(A=>Nt(A)||Ge(A)),d=()=>t.map(A=>{if(we(A))return A.value;if(Nt(A))return u(A);if(Y(A))return l?l(A,2):A()})):Y(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){kt();try{h()}finally{Et()}}const A=Gt;Gt=c;try{return l?l(t,3,[p]):t(p)}finally{Gt=A}}:d=dt,e&&n){const A=d,U=n===!0?1/0:n;d=()=>xt(A(),U)}const b=fa(),_=()=>{c.stop(),b&&b.active&&li(b.effects,c)};if(i&&e){const A=e;e=(...U)=>{A(...U),_()}}let $=x?new Array(t.length).fill(_r):_r;const C=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(e){const U=c.run();if(n||w||(x?U.some((P,v)=>Mt(P,$[v])):Mt(U,$))){h&&h();const P=Gt;Gt=c;try{const v=[U,$===_r?void 0:x&&$[0]===_r?[]:$,p];$=U,l?l(e,3,v):e(...v)}finally{Gt=P}}}else c.run()};return a&&a(C),c=new ha(d),c.scheduler=o?()=>o(C,!1):C,p=A=>Kc(A,!1,c),h=c.onStop=()=>{const A=jr.get(c);if(A){if(l)l(A,4);else for(const U of A)U();jr.delete(c)}},e?r?C(!0):$=c.run():o?o(C.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function xt(t,e=1/0,s){if(e<=0||!ye(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,we(t))xt(t.value,e,s);else if(G(t))for(let r=0;r<t.length;r++)xt(t[r],e,s);else if(Vr(t)||vs(t))t.forEach(r=>{xt(r,e,s)});else if(oa(t)){for(const r in t)xt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&xt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fr(t,e,s,r){try{return r?t(...r):t()}catch(n){Gr(n,e,s)}}function ht(t,e,s,r){if(Y(t)){const n=fr(t,e,s,r);return n&&na(n)&&n.catch(i=>{Gr(i,e,s)}),n}if(G(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ht(t[i],e,s,r));return n}}function Gr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||fe;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){kt(),fr(i,null,10,[t,l,u]),Et();return}}Gc(t,s,n,r,o)}function Gc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Ue=[];let lt=-1;const ys=[];let jt=null,us=0;const Oa=Promise.resolve();let Ir=null;function Jr(t){const e=Ir||Oa;return t?e.then(this?t.bind(this):t):e}function Jc(t){let e=lt+1,s=Ue.length;for(;e<s;){const r=e+s>>>1,n=Ue[r],i=Xs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function bi(t){if(!(t.flags&1)){const e=Xs(t),s=Ue[Ue.length-1];!s||!(t.flags&2)&&e>=Xs(s)?Ue.push(t):Ue.splice(Jc(e),0,t),t.flags|=1,Ra()}}function Ra(){Ir||(Ir=Oa.then(Ia))}function Qc(t){G(t)?ys.push(...t):jt&&t.id===-1?jt.splice(us+1,0,t):t.flags&1||(ys.push(t),t.flags|=1),Ra()}function Fi(t,e,s=lt+1){for(;s<Ue.length;s++){const r=Ue[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ue.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ja(t){if(ys.length){const e=[...new Set(ys)].sort((s,r)=>Xs(s)-Xs(r));if(ys.length=0,jt){jt.push(...e);return}for(jt=e,us=0;us<jt.length;us++){const s=jt[us];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}jt=null,us=0}}const Xs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ia(t){try{for(lt=0;lt<Ue.length;lt++){const e=Ue[lt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),fr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;lt<Ue.length;lt++){const e=Ue[lt];e&&(e.flags&=-2)}lt=-1,Ue.length=0,ja(),Ir=null,(Ue.length||ys.length)&&Ia()}}let qe=null,Ua=null;function Ur(t){const e=qe;return qe=t,Ua=t&&t.type.__scopeId||null,e}function La(t,e=qe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Yi(-1);const i=Ur(e);let o;try{o=t(...n)}finally{Ur(i),r._d&&Yi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function _e(t,e){if(qe===null)return t;const s=Zr(qe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=fe]=e[n];i&&(Y(i)&&(i={mounted:i,updated:i}),i.deep&&xt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ht(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),ht(l,s,8,[t.el,a,t,e]),Et())}}const Yc=Symbol("_vte"),Xc=t=>t.__isTeleport;function _i(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_i(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Da(t,e){return Y(t)?Re({name:t.name},e,{setup:t}):t}function Ma(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ns(t,e,s,r,n=!1){if(G(t)){t.forEach((w,x)=>Ns(w,e&&(G(e)?e[x]:e),s,r,n));return}if(Bs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ns(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Zr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===fe?a.refs={}:a.refs,d=a.setupState,h=oe(d),p=d===fe?()=>!1:w=>ce(h,w);if(u!=null&&u!==l&&(xe(u)?(c[u]=null,p(u)&&(d[u]=null)):we(u)&&(u.value=null)),Y(l))fr(l,a,12,[o,c]);else{const w=xe(l),x=we(l);if(w||x){const b=()=>{if(t.f){const _=w?p(l)?d[l]:c[l]:l.value;n?G(_)&&li(_,i):G(_)?_.includes(i)||_.push(i):w?(c[l]=[i],p(l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else w?(c[l]=o,p(l)&&(d[l]=o)):x&&(l.value=o,t.k&&(c[t.k]=o))};o?(b.id=-1,He(b,s)):b()}}}Kr().requestIdleCallback;Kr().cancelIdleCallback;const Bs=t=>!!t.type.__asyncLoader,Na=t=>t.type.__isKeepAlive;function Zc(t,e){Ba(t,"a",e)}function eu(t,e){Ba(t,"da",e)}function Ba(t,e,s=Te){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Qr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Na(n.parent.vnode)&&tu(r,e,s,n),n=n.parent}}function tu(t,e,s,r){const n=Qr(e,t,r,!0);Fa(()=>{li(r[e],n)},s)}function Qr(t,e,s=Te,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{kt();const a=hr(s),l=ht(e,s,t,o);return a(),Et(),l});return r?n.unshift(i):n.push(i),i}}const Ct=t=>(e,s=Te)=>{(!tr||t==="sp")&&Qr(t,(...r)=>e(...r),s)},su=Ct("bm"),wi=Ct("m"),ru=Ct("bu"),nu=Ct("u"),iu=Ct("bum"),Fa=Ct("um"),ou=Ct("sp"),au=Ct("rtg"),lu=Ct("rtc");function cu(t,e=Te){Qr("ec",t,e)}const qa="components";function Va(t,e){return Wa(qa,t,!0,e)||t}const Ha=Symbol.for("v-ndc");function uu(t){return xe(t)?Wa(qa,t,!1)||t:t||Ha}function Wa(t,e,s=!0,r=!1){const n=qe||Te;if(n){const i=n.type;{const a=Yu(i,!1);if(a&&(a===e||a===Qe(e)||a===Wr(Qe(e))))return i}const o=qi(n[t]||i[t],e)||qi(n.appContext[t],e);return!o&&r?i:o}}function qi(t,e){return t&&(t[e]||t[Qe(e)]||t[Wr(Qe(e))])}function et(t,e,s,r){let n;const i=s,o=G(t);if(o||xe(t)){const a=o&&Nt(t);let l=!1,u=!1;a&&(l=!Ge(t),u=Bt(t),t=zr(t)),n=new Array(t.length);for(let c=0,d=t.length;c<d;c++)n[c]=e(l?u?Rr($e(t[c])):$e(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ye(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Nn=t=>t?dl(t)?Zr(t):Nn(t.parent):null,Fs=Re(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nn(t.parent),$root:t=>Nn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>za(t),$forceUpdate:t=>t.f||(t.f=()=>{bi(t.update)}),$nextTick:t=>t.n||(t.n=Jr.bind(t.proxy)),$watch:t=>Ru.bind(t)}),_n=(t,e)=>t!==fe&&!t.__isScriptSetup&&ce(t,e),du={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(_n(r,e))return o[e]=1,r[e];if(n!==fe&&ce(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&ce(u,e))return o[e]=3,i[e];if(s!==fe&&ce(s,e))return o[e]=4,s[e];Bn&&(o[e]=0)}}const c=Fs[e];let d,h;if(c)return e==="$attrs"&&Oe(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==fe&&ce(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,ce(h,e))return h[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return _n(n,e)?(n[e]=s,!0):r!==fe&&ce(r,e)?(r[e]=s,!0):ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==fe&&ce(t,o)||_n(e,o)||(a=i[0])&&ce(a,o)||ce(r,o)||ce(Fs,o)||ce(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ce(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Vi(t){return G(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Bn=!0;function fu(t){const e=za(t),s=t.proxy,r=t.ctx;Bn=!1,e.beforeCreate&&Hi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:w,activated:x,deactivated:b,beforeDestroy:_,beforeUnmount:$,destroyed:C,unmounted:A,render:U,renderTracked:P,renderTriggered:v,errorCaptured:Q,serverPrefetch:X,expose:he,inheritAttrs:O,components:je,directives:Le,filters:Vt}=e;if(u&&hu(u,r,null),o)for(const ee in o){const ae=o[ee];Y(ae)&&(r[ee]=ae.bind(s))}if(n){const ee=n.call(s,s);ye(ee)&&(t.data=dr(ee))}if(Bn=!0,i)for(const ee in i){const ae=i[ee],pt=Y(ae)?ae.bind(s,s):Y(ae.get)?ae.get.bind(s,s):dt,Tt=!Y(ae)&&Y(ae.set)?ae.set.bind(s):dt,rt=ie({get:pt,set:Tt});Object.defineProperty(r,ee,{enumerable:!0,configurable:!0,get:()=>rt.value,set:De=>rt.value=De})}if(a)for(const ee in a)Ka(a[ee],r,s,ee);if(l){const ee=Y(l)?l.call(s):l;Reflect.ownKeys(ee).forEach(ae=>{Cr(ae,ee[ae])})}c&&Hi(c,t,"c");function be(ee,ae){G(ae)?ae.forEach(pt=>ee(pt.bind(s))):ae&&ee(ae.bind(s))}if(be(su,d),be(wi,h),be(ru,p),be(nu,w),be(Zc,x),be(eu,b),be(cu,Q),be(lu,P),be(au,v),be(iu,$),be(Fa,A),be(ou,X),G(he))if(he.length){const ee=t.exposed||(t.exposed={});he.forEach(ae=>{Object.defineProperty(ee,ae,{get:()=>s[ae],set:pt=>s[ae]=pt})})}else t.exposed||(t.exposed={});U&&t.render===dt&&(t.render=U),O!=null&&(t.inheritAttrs=O),je&&(t.components=je),Le&&(t.directives=Le),X&&Ma(t)}function hu(t,e,s=dt){G(t)&&(t=Fn(t));for(const r in t){const n=t[r];let i;ye(n)?"default"in n?i=Je(n.from||r,n.default,!0):i=Je(n.from||r):i=Je(n),we(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Hi(t,e,s){ht(G(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ka(t,e,s,r){let n=r.includes(".")?ol(s,r):()=>s[r];if(xe(t)){const i=e[t];Y(i)&&qs(n,i)}else if(Y(t))qs(n,t.bind(s));else if(ye(t))if(G(t))t.forEach(i=>Ka(i,e,s,r));else{const i=Y(t.handler)?t.handler.bind(s):e[t.handler];Y(i)&&qs(n,i,t)}}function za(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Lr(l,u,o,!0)),Lr(l,e,o)),ye(e)&&i.set(e,l),l}function Lr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Lr(t,i,s,!0),n&&n.forEach(o=>Lr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=pu[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const pu={data:Wi,props:Ki,emits:Ki,methods:Is,computed:Is,beforeCreate:Ie,created:Ie,beforeMount:Ie,mounted:Ie,beforeUpdate:Ie,updated:Ie,beforeDestroy:Ie,beforeUnmount:Ie,destroyed:Ie,unmounted:Ie,activated:Ie,deactivated:Ie,errorCaptured:Ie,serverPrefetch:Ie,components:Is,directives:Is,watch:mu,provide:Wi,inject:gu};function Wi(t,e){return e?t?function(){return Re(Y(t)?t.call(this,this):t,Y(e)?e.call(this,this):e)}:e:t}function gu(t,e){return Is(Fn(t),Fn(e))}function Fn(t){if(G(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ie(t,e){return t?[...new Set([].concat(t,e))]:e}function Is(t,e){return t?Re(Object.create(null),t,e):e}function Ki(t,e){return t?G(t)&&G(e)?[...new Set([...t,...e])]:Re(Object.create(null),Vi(t),Vi(e??{})):e}function mu(t,e){if(!t)return e;if(!e)return t;const s=Re(Object.create(null),t);for(const r in e)s[r]=Ie(t[r],e[r]);return s}function Ga(){return{app:null,config:{isNativeTag:ic,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vu=0;function yu(t,e){return function(r,n=null){Y(r)||(r=Re({},r)),n!=null&&!ye(n)&&(n=null);const i=Ga(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:vu++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Zu,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&Y(c.install)?(o.add(c),c.install(u,...d)):Y(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,h){if(!l){const p=u._ceVNode||W(r,n);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(p,c,h),l=!0,u._container=c,c.__vue_app__=u,Zr(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ht(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Xt;Xt=u;try{return c()}finally{Xt=d}}};return u}}let Xt=null;function Cr(t,e){if(Te){let s=Te.provides;const r=Te.parent&&Te.parent.provides;r===s&&(s=Te.provides=Object.create(r)),s[t]=e}}function Je(t,e,s=!1){const r=Te||qe;if(r||Xt){let n=Xt?Xt._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&Y(e)?e.call(r&&r.proxy):e}}function bu(){return!!(Te||qe||Xt)}const Ja={},Qa=()=>Object.create(Ja),Ya=t=>Object.getPrototypeOf(t)===Ja;function _u(t,e,s,r=!1){const n={},i=Qa();t.propsDefaults=Object.create(null),Xa(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:$a(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function wu(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=oe(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Yr(t.emitsOptions,h))continue;const p=e[h];if(l)if(ce(i,h))p!==i[h]&&(i[h]=p,u=!0);else{const w=Qe(h);n[w]=qn(l,a,w,p,t,!1)}else p!==i[h]&&(i[h]=p,u=!0)}}}else{Xa(t,e,n,i)&&(u=!0);let c;for(const d in a)(!e||!ce(e,d)&&((c=Zt(d))===d||!ce(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=qn(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!ce(e,d))&&(delete i[d],u=!0)}u&&wt(t.attrs,"set","")}function Xa(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ls(l))continue;const u=e[l];let c;n&&ce(n,c=Qe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Yr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=oe(s),u=a||fe;for(let c=0;c<i.length;c++){const d=i[c];s[d]=qn(n,l,d,u[d],t,!ce(u,d))}}return o}function qn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ce(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Y(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=hr(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Zt(s))&&(r=!0))}return r}const xu=new WeakMap;function Za(t,e,s=!1){const r=s?xu:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!Y(t)){const c=d=>{l=!0;const[h,p]=Za(d,e,!0);Re(o,h),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ye(t)&&r.set(t,ms),ms;if(G(i))for(let c=0;c<i.length;c++){const d=Qe(i[c]);zi(d)&&(o[d]=fe)}else if(i)for(const c in i){const d=Qe(c);if(zi(d)){const h=i[c],p=o[d]=G(h)||Y(h)?{type:h}:Re({},h),w=p.type;let x=!1,b=!0;if(G(w))for(let _=0;_<w.length;++_){const $=w[_],C=Y($)&&$.name;if(C==="Boolean"){x=!0;break}else C==="String"&&(b=!1)}else x=Y(w)&&w.name==="Boolean";p[0]=x,p[1]=b,(x||ce(p,"default"))&&a.push(d)}}const u=[o,a];return ye(t)&&r.set(t,u),u}function zi(t){return t[0]!=="$"&&!Ls(t)}const xi=t=>t[0]==="_"||t==="$stable",Si=t=>G(t)?t.map(ct):[ct(t)],Su=(t,e,s)=>{if(e._n)return e;const r=La((...n)=>Si(e(...n)),s);return r._c=!1,r},el=(t,e,s)=>{const r=t._ctx;for(const n in t){if(xi(n))continue;const i=t[n];if(Y(i))e[n]=Su(n,i,r);else if(i!=null){const o=Si(i);e[n]=()=>o}}},tl=(t,e)=>{const s=Si(e);t.slots.default=()=>s},sl=(t,e,s)=>{for(const r in e)(s||!xi(r))&&(t[r]=e[r])},ku=(t,e,s)=>{const r=t.slots=Qa();if(t.vnode.shapeFlag&32){const n=e.__;n&&Un(r,"__",n,!0);const i=e._;i?(sl(r,e,s),s&&Un(r,"_",i,!0)):el(e,r)}else e&&tl(t,e)},Eu=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=fe;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:sl(n,e,s):(i=!e.$stable,el(e,n)),o=e}else e&&(tl(t,e),o={default:1});if(i)for(const a in n)!xi(a)&&o[a]==null&&delete n[a]},He=Nu;function Cu(t){return $u(t)}function $u(t,e){const s=Kr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=dt,insertStaticContent:w}=t,x=(g,m,y,S=null,T=null,E=null,L=void 0,I=null,j=!!m.dynamicChildren)=>{if(g===m)return;g&&!As(g,m)&&(S=k(g),De(g,T,E,!0),g=null),m.patchFlag===-2&&(j=!1,m.dynamicChildren=null);const{type:R,ref:z,shapeFlag:N}=m;switch(R){case Xr:b(g,m,y,S);break;case Ft:_(g,m,y,S);break;case $r:g==null&&$(m,y,S,L);break;case Se:je(g,m,y,S,T,E,L,I,j);break;default:N&1?U(g,m,y,S,T,E,L,I,j):N&6?Le(g,m,y,S,T,E,L,I,j):(N&64||N&128)&&R.process(g,m,y,S,T,E,L,I,j,V)}z!=null&&T?Ns(z,g&&g.ref,E,m||g,!m):z==null&&g&&g.ref!=null&&Ns(g.ref,null,E,g,!0)},b=(g,m,y,S)=>{if(g==null)r(m.el=a(m.children),y,S);else{const T=m.el=g.el;m.children!==g.children&&u(T,m.children)}},_=(g,m,y,S)=>{g==null?r(m.el=l(m.children||""),y,S):m.el=g.el},$=(g,m,y,S)=>{[g.el,g.anchor]=w(g.children,m,y,S,g.el,g.anchor)},C=({el:g,anchor:m},y,S)=>{let T;for(;g&&g!==m;)T=h(g),r(g,y,S),g=T;r(m,y,S)},A=({el:g,anchor:m})=>{let y;for(;g&&g!==m;)y=h(g),n(g),g=y;n(m)},U=(g,m,y,S,T,E,L,I,j)=>{m.type==="svg"?L="svg":m.type==="math"&&(L="mathml"),g==null?P(m,y,S,T,E,L,I,j):X(g,m,T,E,L,I,j)},P=(g,m,y,S,T,E,L,I)=>{let j,R;const{props:z,shapeFlag:N,transition:K,dirs:J}=g;if(j=g.el=o(g.type,E,z&&z.is,z),N&8?c(j,g.children):N&16&&Q(g.children,j,null,S,T,wn(g,E),L,I),J&&Ht(g,null,S,"created"),v(j,g,g.scopeId,L,S),z){for(const pe in z)pe!=="value"&&!Ls(pe)&&i(j,pe,null,z[pe],E,S);"value"in z&&i(j,"value",null,z.value,E),(R=z.onVnodeBeforeMount)&&at(R,S,g)}J&&Ht(g,null,S,"beforeMount");const re=Tu(T,K);re&&K.beforeEnter(j),r(j,m,y),((R=z&&z.onVnodeMounted)||re||J)&&He(()=>{R&&at(R,S,g),re&&K.enter(j),J&&Ht(g,null,S,"mounted")},T)},v=(g,m,y,S,T)=>{if(y&&p(g,y),S)for(let E=0;E<S.length;E++)p(g,S[E]);if(T){let E=T.subTree;if(m===E||ll(E.type)&&(E.ssContent===m||E.ssFallback===m)){const L=T.vnode;v(g,L,L.scopeId,L.slotScopeIds,T.parent)}}},Q=(g,m,y,S,T,E,L,I,j=0)=>{for(let R=j;R<g.length;R++){const z=g[R]=I?It(g[R]):ct(g[R]);x(null,z,m,y,S,T,E,L,I)}},X=(g,m,y,S,T,E,L)=>{const I=m.el=g.el;let{patchFlag:j,dynamicChildren:R,dirs:z}=m;j|=g.patchFlag&16;const N=g.props||fe,K=m.props||fe;let J;if(y&&Wt(y,!1),(J=K.onVnodeBeforeUpdate)&&at(J,y,m,g),z&&Ht(m,g,y,"beforeUpdate"),y&&Wt(y,!0),(N.innerHTML&&K.innerHTML==null||N.textContent&&K.textContent==null)&&c(I,""),R?he(g.dynamicChildren,R,I,y,S,wn(m,T),E):L||ae(g,m,I,null,y,S,wn(m,T),E,!1),j>0){if(j&16)O(I,N,K,y,T);else if(j&2&&N.class!==K.class&&i(I,"class",null,K.class,T),j&4&&i(I,"style",N.style,K.style,T),j&8){const re=m.dynamicProps;for(let pe=0;pe<re.length;pe++){const ue=re[pe],Me=N[ue],Ne=K[ue];(Ne!==Me||ue==="value")&&i(I,ue,Me,Ne,T,y)}}j&1&&g.children!==m.children&&c(I,m.children)}else!L&&R==null&&O(I,N,K,y,T);((J=K.onVnodeUpdated)||z)&&He(()=>{J&&at(J,y,m,g),z&&Ht(m,g,y,"updated")},S)},he=(g,m,y,S,T,E,L)=>{for(let I=0;I<m.length;I++){const j=g[I],R=m[I],z=j.el&&(j.type===Se||!As(j,R)||j.shapeFlag&198)?d(j.el):y;x(j,R,z,null,S,T,E,L,!0)}},O=(g,m,y,S,T)=>{if(m!==y){if(m!==fe)for(const E in m)!Ls(E)&&!(E in y)&&i(g,E,m[E],null,T,S);for(const E in y){if(Ls(E))continue;const L=y[E],I=m[E];L!==I&&E!=="value"&&i(g,E,I,L,T,S)}"value"in y&&i(g,"value",m.value,y.value,T)}},je=(g,m,y,S,T,E,L,I,j)=>{const R=m.el=g?g.el:a(""),z=m.anchor=g?g.anchor:a("");let{patchFlag:N,dynamicChildren:K,slotScopeIds:J}=m;J&&(I=I?I.concat(J):J),g==null?(r(R,y,S),r(z,y,S),Q(m.children||[],y,z,T,E,L,I,j)):N>0&&N&64&&K&&g.dynamicChildren?(he(g.dynamicChildren,K,y,T,E,L,I),(m.key!=null||T&&m===T.subTree)&&rl(g,m,!0)):ae(g,m,y,z,T,E,L,I,j)},Le=(g,m,y,S,T,E,L,I,j)=>{m.slotScopeIds=I,g==null?m.shapeFlag&512?T.ctx.activate(m,y,S,L,j):Vt(m,y,S,T,E,L,j):$t(g,m,j)},Vt=(g,m,y,S,T,E,L)=>{const I=g.component=Ku(g,S,T);if(Na(g)&&(I.ctx.renderer=V),zu(I,!1,L),I.asyncDep){if(T&&T.registerDep(I,be,L),!g.el){const j=I.subTree=W(Ft);_(null,j,m,y)}}else be(I,g,m,y,T,E,L)},$t=(g,m,y)=>{const S=m.component=g.component;if(Du(g,m,y))if(S.asyncDep&&!S.asyncResolved){ee(S,m,y);return}else S.next=m,S.update();else m.el=g.el,S.vnode=m},be=(g,m,y,S,T,E,L)=>{const I=()=>{if(g.isMounted){let{next:N,bu:K,u:J,parent:re,vnode:pe}=g;{const it=nl(g);if(it){N&&(N.el=pe.el,ee(g,N,L)),it.asyncDep.then(()=>{g.isUnmounted||I()});return}}let ue=N,Me;Wt(g,!1),N?(N.el=pe.el,ee(g,N,L)):N=pe,K&&Er(K),(Me=N.props&&N.props.onVnodeBeforeUpdate)&&at(Me,re,N,pe),Wt(g,!0);const Ne=Ji(g),nt=g.subTree;g.subTree=Ne,x(nt,Ne,d(nt.el),k(nt),g,T,E),N.el=Ne.el,ue===null&&Mu(g,Ne.el),J&&He(J,T),(Me=N.props&&N.props.onVnodeUpdated)&&He(()=>at(Me,re,N,pe),T)}else{let N;const{el:K,props:J}=m,{bm:re,m:pe,parent:ue,root:Me,type:Ne}=g,nt=Bs(m);Wt(g,!1),re&&Er(re),!nt&&(N=J&&J.onVnodeBeforeMount)&&at(N,ue,m),Wt(g,!0);{Me.ce&&Me.ce._def.shadowRoot!==!1&&Me.ce._injectChildStyle(Ne);const it=g.subTree=Ji(g);x(null,it,y,S,g,T,E),m.el=it.el}if(pe&&He(pe,T),!nt&&(N=J&&J.onVnodeMounted)){const it=m;He(()=>at(N,ue,it),T)}(m.shapeFlag&256||ue&&Bs(ue.vnode)&&ue.vnode.shapeFlag&256)&&g.a&&He(g.a,T),g.isMounted=!0,m=y=S=null}};g.scope.on();const j=g.effect=new ha(I);g.scope.off();const R=g.update=j.run.bind(j),z=g.job=j.runIfDirty.bind(j);z.i=g,z.id=g.uid,j.scheduler=()=>bi(z),Wt(g,!0),R()},ee=(g,m,y)=>{m.component=g;const S=g.vnode.props;g.vnode=m,g.next=null,wu(g,m.props,S,y),Eu(g,m.children,y),kt(),Fi(g),Et()},ae=(g,m,y,S,T,E,L,I,j=!1)=>{const R=g&&g.children,z=g?g.shapeFlag:0,N=m.children,{patchFlag:K,shapeFlag:J}=m;if(K>0){if(K&128){Tt(R,N,y,S,T,E,L,I,j);return}else if(K&256){pt(R,N,y,S,T,E,L,I,j);return}}J&8?(z&16&&ze(R,T,E),N!==R&&c(y,N)):z&16?J&16?Tt(R,N,y,S,T,E,L,I,j):ze(R,T,E,!0):(z&8&&c(y,""),J&16&&Q(N,y,S,T,E,L,I,j))},pt=(g,m,y,S,T,E,L,I,j)=>{g=g||ms,m=m||ms;const R=g.length,z=m.length,N=Math.min(R,z);let K;for(K=0;K<N;K++){const J=m[K]=j?It(m[K]):ct(m[K]);x(g[K],J,y,null,T,E,L,I,j)}R>z?ze(g,T,E,!0,!1,N):Q(m,y,S,T,E,L,I,j,N)},Tt=(g,m,y,S,T,E,L,I,j)=>{let R=0;const z=m.length;let N=g.length-1,K=z-1;for(;R<=N&&R<=K;){const J=g[R],re=m[R]=j?It(m[R]):ct(m[R]);if(As(J,re))x(J,re,y,null,T,E,L,I,j);else break;R++}for(;R<=N&&R<=K;){const J=g[N],re=m[K]=j?It(m[K]):ct(m[K]);if(As(J,re))x(J,re,y,null,T,E,L,I,j);else break;N--,K--}if(R>N){if(R<=K){const J=K+1,re=J<z?m[J].el:S;for(;R<=K;)x(null,m[R]=j?It(m[R]):ct(m[R]),y,re,T,E,L,I,j),R++}}else if(R>K)for(;R<=N;)De(g[R],T,E,!0),R++;else{const J=R,re=R,pe=new Map;for(R=re;R<=K;R++){const Ve=m[R]=j?It(m[R]):ct(m[R]);Ve.key!=null&&pe.set(Ve.key,R)}let ue,Me=0;const Ne=K-re+1;let nt=!1,it=0;const Ts=new Array(Ne);for(R=0;R<Ne;R++)Ts[R]=0;for(R=J;R<=N;R++){const Ve=g[R];if(Me>=Ne){De(Ve,T,E,!0);continue}let ot;if(Ve.key!=null)ot=pe.get(Ve.key);else for(ue=re;ue<=K;ue++)if(Ts[ue-re]===0&&As(Ve,m[ue])){ot=ue;break}ot===void 0?De(Ve,T,E,!0):(Ts[ot-re]=R+1,ot>=it?it=ot:nt=!0,x(Ve,m[ot],y,null,T,E,L,I,j),Me++)}const Ui=nt?Pu(Ts):ms;for(ue=Ui.length-1,R=Ne-1;R>=0;R--){const Ve=re+R,ot=m[Ve],Li=Ve+1<z?m[Ve+1].el:S;Ts[R]===0?x(null,ot,y,Li,T,E,L,I,j):nt&&(ue<0||R!==Ui[ue]?rt(ot,y,Li,2):ue--)}}},rt=(g,m,y,S,T=null)=>{const{el:E,type:L,transition:I,children:j,shapeFlag:R}=g;if(R&6){rt(g.component.subTree,m,y,S);return}if(R&128){g.suspense.move(m,y,S);return}if(R&64){L.move(g,m,y,V);return}if(L===Se){r(E,m,y);for(let N=0;N<j.length;N++)rt(j[N],m,y,S);r(g.anchor,m,y);return}if(L===$r){C(g,m,y);return}if(S!==2&&R&1&&I)if(S===0)I.beforeEnter(E),r(E,m,y),He(()=>I.enter(E),T);else{const{leave:N,delayLeave:K,afterLeave:J}=I,re=()=>{g.ctx.isUnmounted?n(E):r(E,m,y)},pe=()=>{N(E,()=>{re(),J&&J()})};K?K(E,re,pe):pe()}else r(E,m,y)},De=(g,m,y,S=!1,T=!1)=>{const{type:E,props:L,ref:I,children:j,dynamicChildren:R,shapeFlag:z,patchFlag:N,dirs:K,cacheIndex:J}=g;if(N===-2&&(T=!1),I!=null&&(kt(),Ns(I,null,y,g,!0),Et()),J!=null&&(m.renderCache[J]=void 0),z&256){m.ctx.deactivate(g);return}const re=z&1&&K,pe=!Bs(g);let ue;if(pe&&(ue=L&&L.onVnodeBeforeUnmount)&&at(ue,m,g),z&6)vr(g.component,y,S);else{if(z&128){g.suspense.unmount(y,S);return}re&&Ht(g,null,m,"beforeUnmount"),z&64?g.type.remove(g,m,y,V,S):R&&!R.hasOnce&&(E!==Se||N>0&&N&64)?ze(R,m,y,!1,!0):(E===Se&&N&384||!T&&z&16)&&ze(j,m,y),S&&ts(g)}(pe&&(ue=L&&L.onVnodeUnmounted)||re)&&He(()=>{ue&&at(ue,m,g),re&&Ht(g,null,m,"unmounted")},y)},ts=g=>{const{type:m,el:y,anchor:S,transition:T}=g;if(m===Se){ss(y,S);return}if(m===$r){A(g);return}const E=()=>{n(y),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(g.shapeFlag&1&&T&&!T.persisted){const{leave:L,delayLeave:I}=T,j=()=>L(y,E);I?I(g.el,E,j):j()}else E()},ss=(g,m)=>{let y;for(;g!==m;)y=h(g),n(g),g=y;n(m)},vr=(g,m,y)=>{const{bum:S,scope:T,job:E,subTree:L,um:I,m:j,a:R,parent:z,slots:{__:N}}=g;Gi(j),Gi(R),S&&Er(S),z&&G(N)&&N.forEach(K=>{z.renderCache[K]=void 0}),T.stop(),E&&(E.flags|=8,De(L,g,m,y)),I&&He(I,m),He(()=>{g.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},ze=(g,m,y,S=!1,T=!1,E=0)=>{for(let L=E;L<g.length;L++)De(g[L],m,y,S,T)},k=g=>{if(g.shapeFlag&6)return k(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=h(g.anchor||g.el),y=m&&m[Yc];return y?h(y):m};let q=!1;const M=(g,m,y)=>{g==null?m._vnode&&De(m._vnode,null,null,!0):x(m._vnode||null,g,m,null,null,null,y),m._vnode=g,q||(q=!0,Fi(),ja(),q=!1)},V={p:x,um:De,m:rt,r:ts,mt:Vt,mc:Q,pc:ae,pbc:he,n:k,o:t};return{render:M,hydrate:void 0,createApp:yu(M)}}function wn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Wt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Tu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function rl(t,e,s=!1){const r=t.children,n=e.children;if(G(r)&&G(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=It(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&rl(o,a)),a.type===Xr&&(a.el=o.el),a.type===Ft&&!a.el&&(a.el=o.el)}}function Pu(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function nl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nl(e)}function Gi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Au=Symbol.for("v-scx"),Ou=()=>Je(Au);function qs(t,e,s){return il(t,e,s)}function il(t,e,s=fe){const{immediate:r,deep:n,flush:i,once:o}=s,a=Re({},s),l=e&&r||!e&&i!=="post";let u;if(tr){if(i==="sync"){const p=Ou();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=dt,p.resume=dt,p.pause=dt,p}}const c=Te;a.call=(p,w,x)=>ht(p,c,w,x);let d=!1;i==="post"?a.scheduler=p=>{He(p,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(p,w)=>{w?p():bi(p)}),a.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const h=zc(t,e,a);return tr&&(u?u.push(h):l&&h()),h}function Ru(t,e,s){const r=this.proxy,n=xe(t)?t.includes(".")?ol(r,t):()=>r[t]:t.bind(r,r);let i;Y(e)?i=e:(i=e.handler,s=e);const o=hr(this),a=il(n,i.bind(r),s);return o(),a}function ol(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const ju=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qe(e)}Modifiers`]||t[`${Zt(e)}Modifiers`];function Iu(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||fe;let n=s;const i=e.startsWith("update:"),o=i&&ju(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>xe(c)?c.trim():c)),o.number&&(n=s.map(Ar)));let a,l=r[a=gn(e)]||r[a=gn(Qe(e))];!l&&i&&(l=r[a=gn(Zt(e))]),l&&ht(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ht(u,t,6,n)}}function al(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!Y(t)){const l=u=>{const c=al(u,e,!0);c&&(a=!0,Re(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ye(t)&&r.set(t,null),null):(G(i)?i.forEach(l=>o[l]=null):Re(o,i),ye(t)&&r.set(t,o),o)}function Yr(t,e){return!t||!qr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ce(t,e[0].toLowerCase()+e.slice(1))||ce(t,Zt(e))||ce(t,e))}function Ji(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:p,ctx:w,inheritAttrs:x}=t,b=Ur(t);let _,$;try{if(s.shapeFlag&4){const A=n||r,U=A;_=ct(u.call(U,A,c,d,p,h,w)),$=a}else{const A=e;_=ct(A.length>1?A(d,{attrs:a,slots:o,emit:l}):A(d,null)),$=e.props?a:Uu(a)}}catch(A){Vs.length=0,Gr(A,t,1),_=W(Ft)}let C=_;if($&&x!==!1){const A=Object.keys($),{shapeFlag:U}=C;A.length&&U&7&&(i&&A.some(ai)&&($=Lu($,i)),C=_s(C,$,!1,!0))}return s.dirs&&(C=_s(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&_i(C,s.transition),_=C,Ur(b),_}const Uu=t=>{let e;for(const s in t)(s==="class"||s==="style"||qr(s))&&((e||(e={}))[s]=t[s]);return e},Lu=(t,e)=>{const s={};for(const r in t)(!ai(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Du(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Qi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!Yr(u,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Qi(r,o,u):!0:!!o;return!1}function Qi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Yr(s,i))return!0}return!1}function Mu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const ll=t=>t.__isSuspense;function Nu(t,e){e&&e.pendingBranch?G(t)?e.effects.push(...t):e.effects.push(t):Qc(t)}const Se=Symbol.for("v-fgt"),Xr=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),$r=Symbol.for("v-stc"),Vs=[];let Ke=null;function D(t=!1){Vs.push(Ke=t?null:[])}function Bu(){Vs.pop(),Ke=Vs[Vs.length-1]||null}let Zs=1;function Yi(t,e=!1){Zs+=t,t<0&&Ke&&e&&(Ke.hasOnce=!0)}function cl(t){return t.dynamicChildren=Zs>0?Ke||ms:null,Bu(),Zs>0&&Ke&&Ke.push(t),t}function B(t,e,s,r,n,i){return cl(f(t,e,s,r,n,i,!0))}function ki(t,e,s,r,n){return cl(W(t,e,s,r,n,!0))}function Dr(t){return t?t.__v_isVNode===!0:!1}function As(t,e){return t.type===e.type&&t.key===e.key}const ul=({key:t})=>t??null,Tr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?xe(t)||we(t)||Y(t)?{i:qe,r:t,k:e,f:!!s}:t:null);function f(t,e=null,s=null,r=0,n=null,i=t===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ul(e),ref:e&&Tr(e),scopeId:Ua,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return a?(Ei(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=xe(s)?8:16),Zs>0&&!o&&Ke&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ke.push(l),l}const W=Fu;function Fu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Ha)&&(t=Ft),Dr(t)){const a=_s(t,e,!0);return s&&Ei(a,s),Zs>0&&!i&&Ke&&(a.shapeFlag&6?Ke[Ke.indexOf(t)]=a:Ke.push(a)),a.patchFlag=-2,a}if(Xu(t)&&(t=t.__vccOpts),e){e=qu(e);let{class:a,style:l}=e;a&&!xe(a)&&(e.class=ut(a)),ye(l)&&(vi(l)&&!G(l)&&(l=Re({},l)),e.style=ui(l))}const o=xe(t)?1:ll(t)?128:Xc(t)?64:ye(t)?4:Y(t)?2:0;return f(t,e,s,r,n,o,i,!0)}function qu(t){return t?vi(t)||Ya(t)?Re({},t):t:null}function _s(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Vu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ul(u),ref:e&&e.ref?s&&i?G(i)?i.concat(Tr(e)):[i,Tr(e)]:Tr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_s(t.ssContent),ssFallback:t.ssFallback&&_s(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_i(c,l.clone(c)),c}function Mr(t=" ",e=0){return W(Xr,null,t,e)}function er(t,e){const s=W($r,null,t);return s.staticCount=e,s}function ve(t="",e=!1){return e?(D(),ki(Ft,null,t)):W(Ft,null,t)}function ct(t){return t==null||typeof t=="boolean"?W(Ft):G(t)?W(Se,null,t.slice()):Dr(t)?It(t):W(Xr,null,String(t))}function It(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_s(t)}function Ei(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(G(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Ei(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ya(e)?e._ctx=qe:n===3&&qe&&(qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Y(e)?(e={default:e,_ctx:qe},s=32):(e=String(e),r&64?(s=16,e=[Mr(e)]):s=8);t.children=e,t.shapeFlag|=s}function Vu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=ut([e.class,r.class]));else if(n==="style")e.style=ui([e.style,r.style]);else if(qr(n)){const i=e[n],o=r[n];o&&i!==o&&!(G(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function at(t,e,s,r=null){ht(t,e,7,[s,r])}const Hu=Ga();let Wu=0;function Ku(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Hu,i={uid:Wu++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ua(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Za(r,n),emitsOptions:al(r,n),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:r.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Iu.bind(null,i),t.ce&&t.ce(i),i}let Te=null,Nr,Vn;{const t=Kr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Nr=e("__VUE_INSTANCE_SETTERS__",s=>Te=s),Vn=e("__VUE_SSR_SETTERS__",s=>tr=s)}const hr=t=>{const e=Te;return Nr(t),t.scope.on(),()=>{t.scope.off(),Nr(e)}},Xi=()=>{Te&&Te.scope.off(),Nr(null)};function dl(t){return t.vnode.shapeFlag&4}let tr=!1;function zu(t,e=!1,s=!1){e&&Vn(e);const{props:r,children:n}=t.vnode,i=dl(t);_u(t,r,i,e),ku(t,n,s||e);const o=i?Gu(t,e):void 0;return e&&Vn(!1),o}function Gu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,du);const{setup:r}=s;if(r){kt();const n=t.setupContext=r.length>1?Qu(t):null,i=hr(t),o=fr(r,t,0,[t.props,n]),a=na(o);if(Et(),i(),(a||t.sp)&&!Bs(t)&&Ma(t),a){if(o.then(Xi,Xi),e)return o.then(l=>{Zi(t,l)}).catch(l=>{Gr(l,t,0)});t.asyncDep=o}else Zi(t,o)}else fl(t)}function Zi(t,e,s){Y(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ye(e)&&(t.setupState=Aa(e)),fl(t)}function fl(t,e,s){const r=t.type;t.render||(t.render=r.render||dt);{const n=hr(t);kt();try{fu(t)}finally{Et(),n()}}}const Ju={get(t,e){return Oe(t,"get",""),t[e]}};function Qu(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Ju),slots:t.slots,emit:t.emit,expose:e}}function Zr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Aa(yi(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Fs)return Fs[s](t)},has(e,s){return s in e||s in Fs}})):t.proxy}function Yu(t,e=!0){return Y(t)?t.displayName||t.name:t.name||e&&t.__name}function Xu(t){return Y(t)&&"__vccOpts"in t}const ie=(t,e)=>Wc(t,e,tr);function sr(t,e,s){const r=arguments.length;return r===2?ye(e)&&!G(e)?Dr(e)?W(t,null,[e]):W(t,e):W(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Dr(s)&&(s=[s]),W(t,e,s))}const Zu="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hn;const eo=typeof window<"u"&&window.trustedTypes;if(eo)try{Hn=eo.createPolicy("vue",{createHTML:t=>t})}catch{}const hl=Hn?t=>Hn.createHTML(t):t=>t,ed="http://www.w3.org/2000/svg",td="http://www.w3.org/1998/Math/MathML",yt=typeof document<"u"?document:null,to=yt&&yt.createElement("template"),sd={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?yt.createElementNS(ed,t):e==="mathml"?yt.createElementNS(td,t):s?yt.createElement(t,{is:s}):yt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>yt.createTextNode(t),createComment:t=>yt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>yt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{to.innerHTML=hl(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=to.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},rd=Symbol("_vtc");function nd(t,e,s){const r=t[rd];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const so=Symbol("_vod"),id=Symbol("_vsh"),od=Symbol(""),ad=/(^|;)\s*display\s*:/;function ld(t,e,s){const r=t.style,n=xe(s);let i=!1;if(s&&!n){if(e)if(xe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Pr(r,a,"")}else for(const o in e)s[o]==null&&Pr(r,o,"");for(const o in s)o==="display"&&(i=!0),Pr(r,o,s[o])}else if(n){if(e!==s){const o=r[od];o&&(s+=";"+o),r.cssText=s,i=ad.test(s)}}else e&&t.removeAttribute("style");so in t&&(t[so]=i?r.display:"",t[id]&&(r.display="none"))}const ro=/\s*!important$/;function Pr(t,e,s){if(G(s))s.forEach(r=>Pr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=cd(t,e);ro.test(s)?t.setProperty(Zt(r),s.replace(ro,""),"important"):t[r]=s}}const no=["Webkit","Moz","ms"],xn={};function cd(t,e){const s=xn[e];if(s)return s;let r=Qe(e);if(r!=="filter"&&r in t)return xn[e]=r;r=Wr(r);for(let n=0;n<no.length;n++){const i=no[n]+r;if(i in t)return xn[e]=i}return e}const io="http://www.w3.org/1999/xlink";function oo(t,e,s,r,n,i=gc(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(io,e.slice(6,e.length)):t.setAttributeNS(io,e,s):s==null||i&&!aa(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ft(s)?String(s):s)}function ao(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?hl(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=aa(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Lt(t,e,s,r){t.addEventListener(e,s,r)}function ud(t,e,s,r){t.removeEventListener(e,s,r)}const lo=Symbol("_vei");function dd(t,e,s,r,n=null){const i=t[lo]||(t[lo]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=fd(e);if(r){const u=i[e]=gd(r,n);Lt(t,a,u,l)}else o&&(ud(t,a,o,l),i[e]=void 0)}}const co=/(?:Once|Passive|Capture)$/;function fd(t){let e;if(co.test(t)){e={};let r;for(;r=t.match(co);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zt(t.slice(2)),e]}let Sn=0;const hd=Promise.resolve(),pd=()=>Sn||(hd.then(()=>Sn=0),Sn=Date.now());function gd(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ht(md(r,s.value),e,5,[r])};return s.value=t,s.attached=pd(),s}function md(t,e){if(G(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const uo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,vd=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?nd(t,r,o):e==="style"?ld(t,s,r):qr(e)?ai(e)||dd(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yd(t,e,r,o))?(ao(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&oo(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!xe(r))?ao(t,Qe(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),oo(t,e,r,o))};function yd(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&uo(e)&&Y(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return uo(e)&&xe(s)?!1:e in t}const ws=t=>{const e=t.props["onUpdate:modelValue"]||!1;return G(e)?s=>Er(e,s):e};function bd(t){t.target.composing=!0}function fo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const St=Symbol("_assign"),We={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[St]=ws(n);const i=r||n.props&&n.props.type==="number";Lt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Ar(a)),t[St](a)}),s&&Lt(t,"change",()=>{t.value=t.value.trim()}),e||(Lt(t,"compositionstart",bd),Lt(t,"compositionend",fo),Lt(t,"change",fo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[St]=ws(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ar(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},ho={created(t,{value:e},s){t.checked=bs(e,s.props.value),t[St]=ws(s),Lt(t,"change",()=>{t[St](rr(t))})},beforeUpdate(t,{value:e,oldValue:s},r){t[St]=ws(r),e!==s&&(t.checked=bs(e,r.props.value))}},ds={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Vr(e);Lt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Ar(rr(o)):rr(o));t[St](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Jr(()=>{t._assigning=!1})}),t[St]=ws(r)},mounted(t,{value:e}){po(t,e)},beforeUpdate(t,e,s){t[St]=ws(s)},updated(t,{value:e}){t._assigning||po(t,e)}};function po(t,e){const s=t.multiple,r=G(e);if(!(s&&!r&&!Vr(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=rr(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=vc(e,a)>-1}else o.selected=e.has(a);else if(bs(rr(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function rr(t){return"_value"in t?t._value:t.value}const _d=["ctrl","shift","alt","meta"],wd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_d.some(s=>t[`${s}Key`]&&!e.includes(s))},nr=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=wd[e[o]];if(a&&a(n,e))return}return t(n,...i)})},xd=Re({patchProp:vd},sd);let go;function Sd(){return go||(go=Cu(xd))}const kd=(...t)=>{const e=Sd().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Cd(r);if(!n)return;const i=e._component;!Y(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Ed(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Ed(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Cd(t){return xe(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let pl;const en=t=>pl=t,gl=Symbol();function Wn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Hs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hs||(Hs={}));function $d(){const t=da(!0),e=t.run(()=>ne({}));let s=[],r=[];const n=yi({install(i){en(n),n._a=i,i.provide(gl,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const ml=()=>{};function mo(t,e,s,r=ml){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&fa()&&yc(n),n}function ns(t,...e){t.slice().forEach(s=>{s(...e)})}const Td=t=>t(),vo=Symbol(),kn=Symbol();function Kn(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Wn(n)&&Wn(r)&&t.hasOwnProperty(s)&&!we(r)&&!Nt(r)?t[s]=Kn(n,r):t[s]=r}return t}const Pd=Symbol();function Ad(t){return!Wn(t)||!Object.prototype.hasOwnProperty.call(t,Pd)}const{assign:Ot}=Object;function Od(t){return!!(we(t)&&t.effect)}function Rd(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Fc(s.state.value[t]);return Ot(c,i,Object.keys(o||{}).reduce((d,h)=>(d[h]=yi(ie(()=>{en(s);const p=s._s.get(t);return o[h].call(p,p)})),d),{}))}return l=vl(t,u,e,s,r,!0),l}function vl(t,e,s={},r,n,i){let o;const a=Ot({actions:{}},s),l={deep:!0};let u,c,d=[],h=[],p;const w=r.state.value[t];!i&&!w&&(r.state.value[t]={}),ne({});let x;function b(Q){let X;u=c=!1,typeof Q=="function"?(Q(r.state.value[t]),X={type:Hs.patchFunction,storeId:t,events:p}):(Kn(r.state.value[t],Q),X={type:Hs.patchObject,payload:Q,storeId:t,events:p});const he=x=Symbol();Jr().then(()=>{x===he&&(u=!0)}),c=!0,ns(d,X,r.state.value[t])}const _=i?function(){const{state:X}=s,he=X?X():{};this.$patch(O=>{Ot(O,he)})}:ml;function $(){o.stop(),d=[],h=[],r._s.delete(t)}const C=(Q,X="")=>{if(vo in Q)return Q[kn]=X,Q;const he=function(){en(r);const O=Array.from(arguments),je=[],Le=[];function Vt(ee){je.push(ee)}function $t(ee){Le.push(ee)}ns(h,{args:O,name:he[kn],store:U,after:Vt,onError:$t});let be;try{be=Q.apply(this&&this.$id===t?this:U,O)}catch(ee){throw ns(Le,ee),ee}return be instanceof Promise?be.then(ee=>(ns(je,ee),ee)).catch(ee=>(ns(Le,ee),Promise.reject(ee))):(ns(je,be),be)};return he[vo]=!0,he[kn]=X,he},A={_p:r,$id:t,$onAction:mo.bind(null,h),$patch:b,$reset:_,$subscribe(Q,X={}){const he=mo(d,Q,X.detached,()=>O()),O=o.run(()=>qs(()=>r.state.value[t],je=>{(X.flush==="sync"?c:u)&&Q({storeId:t,type:Hs.direct,events:p},je)},Ot({},l,X)));return he},$dispose:$},U=dr(A);r._s.set(t,U);const v=(r._a&&r._a.runWithContext||Td)(()=>r._e.run(()=>(o=da()).run(()=>e({action:C}))));for(const Q in v){const X=v[Q];if(we(X)&&!Od(X)||Nt(X))i||(w&&Ad(X)&&(we(X)?X.value=w[Q]:Kn(X,w[Q])),r.state.value[t][Q]=X);else if(typeof X=="function"){const he=C(X,Q);v[Q]=he,a.actions[Q]=X}}return Ot(U,v),Ot(oe(U),v),Object.defineProperty(U,"$state",{get:()=>r.state.value[t],set:Q=>{b(X=>{Ot(X,Q)})}}),r._p.forEach(Q=>{Ot(U,o.run(()=>Q({store:U,app:r._a,pinia:r,options:a})))}),w&&i&&s.hydrate&&s.hydrate(U.$state,w),u=!0,c=!0,U}/*! #__NO_SIDE_EFFECTS__ */function tn(t,e,s){let r;const n=typeof e=="function";r=n?s:e;function i(o,a){const l=bu();return o=o||(l?Je(gl,null):null),o&&en(o),o=pl,o._s.has(t)||(n?vl(t,e,r,o):Rd(t,r,o)),o._s.get(t)}return i.$id=t,i}function jd(t,e){return Array.isArray(e)?e.reduce((s,r)=>(s[r]=function(){return t(this.$pinia)[r]},s),{}):Object.keys(e).reduce((s,r)=>(s[r]=function(){const n=t(this.$pinia),i=e[r];return typeof i=="function"?i.call(this,n):n[i]},s),{})}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const fs=typeof document<"u";function yl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Id(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&yl(t.default)}const le=Object.assign;function En(t,e){const s={};for(const r in e){const n=e[r];s[r]=st(n)?n.map(t):t(n)}return s}const Ws=()=>{},st=Array.isArray,bl=/#/g,Ud=/&/g,Ld=/\//g,Dd=/=/g,Md=/\?/g,_l=/\+/g,Nd=/%5B/g,Bd=/%5D/g,wl=/%5E/g,Fd=/%60/g,xl=/%7B/g,qd=/%7C/g,Sl=/%7D/g,Vd=/%20/g;function Ci(t){return encodeURI(""+t).replace(qd,"|").replace(Nd,"[").replace(Bd,"]")}function Hd(t){return Ci(t).replace(xl,"{").replace(Sl,"}").replace(wl,"^")}function zn(t){return Ci(t).replace(_l,"%2B").replace(Vd,"+").replace(bl,"%23").replace(Ud,"%26").replace(Fd,"`").replace(xl,"{").replace(Sl,"}").replace(wl,"^")}function Wd(t){return zn(t).replace(Dd,"%3D")}function Kd(t){return Ci(t).replace(bl,"%23").replace(Md,"%3F")}function zd(t){return t==null?"":Kd(t).replace(Ld,"%2F")}function ir(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Gd=/\/$/,Jd=t=>t.replace(Gd,"");function Cn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Zd(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:ir(o)}}function Qd(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function yo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Yd(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&xs(e.matched[r],s.matched[n])&&kl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function xs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function kl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Xd(t[s],e[s]))return!1;return!0}function Xd(t,e){return st(t)?bo(t,e):st(e)?bo(e,t):t===e}function bo(t,e){return st(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Zd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var or;(function(t){t.pop="pop",t.push="push"})(or||(or={}));var Ks;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ks||(Ks={}));function ef(t){if(!t)if(fs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Jd(t)}const tf=/^[^#]+#/;function sf(t,e){return t.replace(tf,"#")+e}function rf(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const sn=()=>({left:window.scrollX,top:window.scrollY});function nf(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=rf(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function _o(t,e){return(history.state?history.state.position-e:-1)+t}const Gn=new Map;function of(t,e){Gn.set(t,e)}function af(t){const e=Gn.get(t);return Gn.delete(t),e}let lf=()=>location.protocol+"//"+location.host;function El(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),yo(l,"")}return yo(s,t)+r+n}function cf(t,e,s,r){let n=[],i=[],o=null;const a=({state:h})=>{const p=El(t,location),w=s.value,x=e.value;let b=0;if(h){if(s.value=p,e.value=h,o&&o===w){o=null;return}b=x?h.position-x.position:0}else r(p);n.forEach(_=>{_(s.value,w,{delta:b,type:or.pop,direction:b?b>0?Ks.forward:Ks.back:Ks.unknown})})};function l(){o=s.value}function u(h){n.push(h);const p=()=>{const w=n.indexOf(h);w>-1&&n.splice(w,1)};return i.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(le({},h.state,{scroll:sn()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function wo(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?sn():null}}function uf(t){const{history:e,location:s}=window,r={value:El(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=t.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:lf()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),n.value=u}catch(p){console.error(p),s[c?"replace":"assign"](h)}}function o(l,u){const c=le({},e.state,wo(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=le({},n.value,e.state,{forward:l,scroll:sn()});i(c.current,c,!0);const d=le({},wo(r.value,l,null),{position:c.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function df(t){t=ef(t);const e=uf(t),s=cf(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=le({location:"",base:t,go:r,createHref:sf.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function ff(t){return typeof t=="string"||t&&typeof t=="object"}function Cl(t){return typeof t=="string"||typeof t=="symbol"}const $l=Symbol("");var xo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(xo||(xo={}));function Ss(t,e){return le(new Error,{type:t,[$l]:!0},e)}function mt(t,e){return t instanceof Error&&$l in t&&(e==null||!!(t.type&e))}const So="[^/]+?",hf={sensitive:!1,strict:!1,start:!0,end:!0},pf=/[.+*?^${}()[\]/\\]/g;function gf(t,e){const s=le({},hf,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let d=0;d<u.length;d++){const h=u[d];let p=40+(s.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(pf,"\\$&"),p+=40;else if(h.type===1){const{value:w,repeatable:x,optional:b,regexp:_}=h;i.push({name:w,repeatable:x,optional:b});const $=_||So;if($!==So){p+=10;try{new RegExp(`(${$})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${w}" (${$}): `+A.message)}}let C=x?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;d||(C=b&&u.length<2?`(?:/${C})`:"/"+C),b&&(C+="?"),n+=C,p+=20,b&&(p+=-8),x&&(p+=-20),$===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",w=i[h-1];d[w.name]=p&&w.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:w,repeatable:x,optional:b}=p,_=w in u?u[w]:"";if(st(_)&&!x)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const $=st(_)?_.join("/"):_;if(!$)if(b)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);c+=$}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function mf(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Tl(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=mf(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(ko(r))return 1;if(ko(n))return-1}return n.length-r.length}function ko(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vf={type:0,value:""},yf=/[a-zA-Z0-9_]/;function bf(t){if(!t)return[[]];if(t==="/")return[[vf]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),s=1):h();break;case 4:h(),s=r;break;case 1:l==="("?s=2:yf.test(l)?h():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),n}function _f(t,e,s){const r=gf(bf(t.path),s),n=le(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function wf(t,e){const s=[],r=new Map;e=To({strict:!1,end:!0,sensitive:!1},e);function n(d){return r.get(d)}function i(d,h,p){const w=!p,x=Co(d);x.aliasOf=p&&p.record;const b=To(e,d),_=[x];if("alias"in d){const A=typeof d.alias=="string"?[d.alias]:d.alias;for(const U of A)_.push(Co(le({},x,{components:p?p.record.components:x.components,path:U,aliasOf:p?p.record:x})))}let $,C;for(const A of _){const{path:U}=A;if(h&&U[0]!=="/"){const P=h.record.path,v=P[P.length-1]==="/"?"":"/";A.path=h.record.path+(U&&v+U)}if($=_f(A,h,b),p?p.alias.push($):(C=C||$,C!==$&&C.alias.push($),w&&d.name&&!$o($)&&o(d.name)),Pl($)&&l($),x.children){const P=x.children;for(let v=0;v<P.length;v++)i(P[v],$,p&&p.children[v])}p=p||$}return C?()=>{o(C)}:Ws}function o(d){if(Cl(d)){const h=r.get(d);h&&(r.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const h=kf(d,s);s.splice(h,0,d),d.record.name&&!$o(d)&&r.set(d.record.name,d)}function u(d,h){let p,w={},x,b;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw Ss(1,{location:d});b=p.record.name,w=le(Eo(h.params,p.keys.filter(C=>!C.optional).concat(p.parent?p.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),d.params&&Eo(d.params,p.keys.map(C=>C.name))),x=p.stringify(w)}else if(d.path!=null)x=d.path,p=s.find(C=>C.re.test(x)),p&&(w=p.parse(x),b=p.record.name);else{if(p=h.name?r.get(h.name):s.find(C=>C.re.test(h.path)),!p)throw Ss(1,{location:d,currentLocation:h});b=p.record.name,w=le({},h.params,d.params),x=p.stringify(w)}const _=[];let $=p;for(;$;)_.unshift($.record),$=$.parent;return{name:b,path:x,params:w,matched:_,meta:Sf(_)}}t.forEach(d=>i(d));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Eo(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Co(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:xf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function xf(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function $o(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Sf(t){return t.reduce((e,s)=>le(e,s.meta),{})}function To(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function kf(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;Tl(t,e[i])<0?r=i:s=i+1}const n=Ef(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function Ef(t){let e=t;for(;e=e.parent;)if(Pl(e)&&Tl(t,e)===0)return e}function Pl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Cf(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(_l," "),o=i.indexOf("="),a=ir(o<0?i:i.slice(0,o)),l=o<0?null:ir(i.slice(o+1));if(a in e){let u=e[a];st(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Po(t){let e="";for(let s in t){const r=t[s];if(s=Wd(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(st(r)?r.map(i=>i&&zn(i)):[r&&zn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function $f(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=st(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const Tf=Symbol(""),Ao=Symbol(""),rn=Symbol(""),$i=Symbol(""),Jn=Symbol("");function Os(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Ut(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Ss(4,{from:s,to:e})):h instanceof Error?l(h):ff(h)?l(Ss(2,{from:e,to:h})):(o&&r.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function $n(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(yl(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Ut(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Id(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&Ut(p,s,r,o,a,n)()}))}}return i}function Oo(t){const e=Je(rn),s=Je($i),r=ie(()=>{const l=H(t.to);return e.resolve(l)}),n=ie(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=s.matched;if(!c||!d.length)return-1;const h=d.findIndex(xs.bind(null,c));if(h>-1)return h;const p=Ro(l[u-2]);return u>1&&Ro(c)===p&&d[d.length-1].path!==p?d.findIndex(xs.bind(null,l[u-2])):h}),i=ie(()=>n.value>-1&&jf(s.params,r.value.params)),o=ie(()=>n.value>-1&&n.value===s.matched.length-1&&kl(s.params,r.value.params));function a(l={}){if(Rf(l)){const u=e[H(t.replace)?"replace":"push"](H(t.to)).catch(Ws);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ie(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Pf(t){return t.length===1?t[0]:t}const Af=Da({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Oo,setup(t,{slots:e}){const s=dr(Oo(t)),{options:r}=Je(rn),n=ie(()=>({[jo(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[jo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&Pf(e.default(s));return t.custom?i:sr("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Of=Af;function Rf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function jf(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!st(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Ro(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const jo=(t,e,s)=>t??e??s,If=Da({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=Je(Jn),n=ie(()=>t.route||r.value),i=Je(Ao,0),o=ie(()=>{let u=H(i);const{matched:c}=n.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ie(()=>n.value.matched[o.value]);Cr(Ao,ie(()=>o.value+1)),Cr(Tf,a),Cr(Jn,n);const l=ne();return qs(()=>[l.value,a.value,t.name],([u,c,d],[h,p,w])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!xs(c,p)||!h)&&(c.enterCallbacks[d]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return Io(s.default,{Component:h,route:u});const p=d.props[c],w=p?p===!0?u.params:typeof p=="function"?p(u):p:null,b=sr(h,le({},w,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Io(s.default,{Component:b,route:u})||b}}});function Io(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Uf=If;function Lf(t){const e=wf(t.routes,t),s=t.parseQuery||Cf,r=t.stringifyQuery||Po,n=t.history,i=Os(),o=Os(),a=Os(),l=Mc(Pt);let u=Pt;fs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=En.bind(null,k=>""+k),d=En.bind(null,zd),h=En.bind(null,ir);function p(k,q){let M,V;return Cl(k)?(M=e.getRecordMatcher(k),V=q):V=k,e.addRoute(V,M)}function w(k){const q=e.getRecordMatcher(k);q&&e.removeRoute(q)}function x(){return e.getRoutes().map(k=>k.record)}function b(k){return!!e.getRecordMatcher(k)}function _(k,q){if(q=le({},q||l.value),typeof k=="string"){const y=Cn(s,k,q.path),S=e.resolve({path:y.path},q),T=n.createHref(y.fullPath);return le(y,S,{params:h(S.params),hash:ir(y.hash),redirectedFrom:void 0,href:T})}let M;if(k.path!=null)M=le({},k,{path:Cn(s,k.path,q.path).path});else{const y=le({},k.params);for(const S in y)y[S]==null&&delete y[S];M=le({},k,{params:d(y)}),q.params=d(q.params)}const V=e.resolve(M,q),de=k.hash||"";V.params=c(h(V.params));const g=Qd(r,le({},k,{hash:Hd(de),path:V.path})),m=n.createHref(g);return le({fullPath:g,hash:de,query:r===Po?$f(k.query):k.query||{}},V,{redirectedFrom:void 0,href:m})}function $(k){return typeof k=="string"?Cn(s,k,l.value.path):le({},k)}function C(k,q){if(u!==k)return Ss(8,{from:q,to:k})}function A(k){return v(k)}function U(k){return A(le($(k),{replace:!0}))}function P(k){const q=k.matched[k.matched.length-1];if(q&&q.redirect){const{redirect:M}=q;let V=typeof M=="function"?M(k):M;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=$(V):{path:V},V.params={}),le({query:k.query,hash:k.hash,params:V.path!=null?{}:k.params},V)}}function v(k,q){const M=u=_(k),V=l.value,de=k.state,g=k.force,m=k.replace===!0,y=P(M);if(y)return v(le($(y),{state:typeof y=="object"?le({},de,y.state):de,force:g,replace:m}),q||M);const S=M;S.redirectedFrom=q;let T;return!g&&Yd(r,V,M)&&(T=Ss(16,{to:S,from:V}),rt(V,V,!0,!1)),(T?Promise.resolve(T):he(S,V)).catch(E=>mt(E)?mt(E,2)?E:Tt(E):ae(E,S,V)).then(E=>{if(E){if(mt(E,2))return v(le({replace:m},$(E.to),{state:typeof E.to=="object"?le({},de,E.to.state):de,force:g}),q||S)}else E=je(S,V,!0,m,de);return O(S,V,E),E})}function Q(k,q){const M=C(k,q);return M?Promise.reject(M):Promise.resolve()}function X(k){const q=ss.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(k):k()}function he(k,q){let M;const[V,de,g]=Df(k,q);M=$n(V.reverse(),"beforeRouteLeave",k,q);for(const y of V)y.leaveGuards.forEach(S=>{M.push(Ut(S,k,q))});const m=Q.bind(null,k,q);return M.push(m),ze(M).then(()=>{M=[];for(const y of i.list())M.push(Ut(y,k,q));return M.push(m),ze(M)}).then(()=>{M=$n(de,"beforeRouteUpdate",k,q);for(const y of de)y.updateGuards.forEach(S=>{M.push(Ut(S,k,q))});return M.push(m),ze(M)}).then(()=>{M=[];for(const y of g)if(y.beforeEnter)if(st(y.beforeEnter))for(const S of y.beforeEnter)M.push(Ut(S,k,q));else M.push(Ut(y.beforeEnter,k,q));return M.push(m),ze(M)}).then(()=>(k.matched.forEach(y=>y.enterCallbacks={}),M=$n(g,"beforeRouteEnter",k,q,X),M.push(m),ze(M))).then(()=>{M=[];for(const y of o.list())M.push(Ut(y,k,q));return M.push(m),ze(M)}).catch(y=>mt(y,8)?y:Promise.reject(y))}function O(k,q,M){a.list().forEach(V=>X(()=>V(k,q,M)))}function je(k,q,M,V,de){const g=C(k,q);if(g)return g;const m=q===Pt,y=fs?history.state:{};M&&(V||m?n.replace(k.fullPath,le({scroll:m&&y&&y.scroll},de)):n.push(k.fullPath,de)),l.value=k,rt(k,q,M,m),Tt()}let Le;function Vt(){Le||(Le=n.listen((k,q,M)=>{if(!vr.listening)return;const V=_(k),de=P(V);if(de){v(le(de,{replace:!0,force:!0}),V).catch(Ws);return}u=V;const g=l.value;fs&&of(_o(g.fullPath,M.delta),sn()),he(V,g).catch(m=>mt(m,12)?m:mt(m,2)?(v(le($(m.to),{force:!0}),V).then(y=>{mt(y,20)&&!M.delta&&M.type===or.pop&&n.go(-1,!1)}).catch(Ws),Promise.reject()):(M.delta&&n.go(-M.delta,!1),ae(m,V,g))).then(m=>{m=m||je(V,g,!1),m&&(M.delta&&!mt(m,8)?n.go(-M.delta,!1):M.type===or.pop&&mt(m,20)&&n.go(-1,!1)),O(V,g,m)}).catch(Ws)}))}let $t=Os(),be=Os(),ee;function ae(k,q,M){Tt(k);const V=be.list();return V.length?V.forEach(de=>de(k,q,M)):console.error(k),Promise.reject(k)}function pt(){return ee&&l.value!==Pt?Promise.resolve():new Promise((k,q)=>{$t.add([k,q])})}function Tt(k){return ee||(ee=!k,Vt(),$t.list().forEach(([q,M])=>k?M(k):q()),$t.reset()),k}function rt(k,q,M,V){const{scrollBehavior:de}=t;if(!fs||!de)return Promise.resolve();const g=!M&&af(_o(k.fullPath,0))||(V||!M)&&history.state&&history.state.scroll||null;return Jr().then(()=>de(k,q,g)).then(m=>m&&nf(m)).catch(m=>ae(m,k,q))}const De=k=>n.go(k);let ts;const ss=new Set,vr={currentRoute:l,listening:!0,addRoute:p,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:x,resolve:_,options:t,push:A,replace:U,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:be.add,isReady:pt,install(k){const q=this;k.component("RouterLink",Of),k.component("RouterView",Uf),k.config.globalProperties.$router=q,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>H(l)}),fs&&!ts&&l.value===Pt&&(ts=!0,A(n.location).catch(de=>{}));const M={};for(const de in Pt)Object.defineProperty(M,de,{get:()=>l.value[de],enumerable:!0});k.provide(rn,q),k.provide($i,$a(M)),k.provide(Jn,l);const V=k.unmount;ss.add(k),k.unmount=function(){ss.delete(k),ss.size<1&&(u=Pt,Le&&Le(),Le=null,l.value=Pt,ts=!1,ee=!1),V()}}};function ze(k){return k.reduce((q,M)=>q.then(()=>X(M)),Promise.resolve())}return vr}function Df(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>xs(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>xs(u,l))||n.push(l))}return[s,r,n]}function nn(){return Je(rn)}function Mf(t){return Je($i)}const Nf="modulepreload",Bf=function(t,e){return new URL(t,e).href},Uo={},pr=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(s.map(u=>{if(u=Bf(u,r),u in Uo)return;Uo[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let w=o.length-1;w>=0;w--){const x=o[w];if(x.href===u&&(!c||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Nf,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((w,x)=>{p.addEventListener("load",w),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ff=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>pr(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Ti extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class qf extends Ti{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lo extends Ti{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Do extends Ti{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qn||(Qn={}));var Vf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Hf{constructor(e,{headers:s={},customFetch:r,region:n=Qn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Ff(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Vf(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(x=>{throw new qf(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Lo(d);if(!d.ok)throw new Do(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield d.json():p==="application/octet-stream"?w=yield d.blob():p==="text/event-stream"?w=d:p==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof Do||n instanceof Lo?n.context:void 0}}})}}var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Fe={},Pi={},on={},gr={},an={},ln={},Kf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ks=Kf();const zf=ks.fetch,Al=ks.fetch.bind(ks),Ol=ks.Headers,Gf=ks.Request,Jf=ks.Response,Es=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ol,Request:Gf,Response:Jf,default:Al,fetch:zf},Symbol.toStringTag,{value:"Module"})),Qf=Wf(Es);var cn={};Object.defineProperty(cn,"__esModule",{value:!0});let Yf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};cn.default=Yf;var Rl=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ln,"__esModule",{value:!0});const Xf=Rl(Qf),Zf=Rl(cn);let eh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Xf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(c=[],u=null,h=200,p="OK")}catch{i.status===404&&x===""?(h=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new Zf.default(u)}return{error:u,data:c,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};ln.default=eh;var th=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(an,"__esModule",{value:!0});const sh=th(ln);let rh=class extends sh.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};an.default=rh;var nh=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});const ih=nh(an);let oh=class extends ih.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};gr.default=oh;var ah=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(on,"__esModule",{value:!0});const Rs=ah(gr);let lh=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Rs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Rs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Rs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Rs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Rs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};on.default=lh;var un={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.version=void 0;dn.version="0.0.0-automated";Object.defineProperty(un,"__esModule",{value:!0});un.DEFAULT_HEADERS=void 0;const ch=dn;un.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ch.version}`};var jl=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const uh=jl(on),dh=jl(gr),fh=un;let hh=class Il{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},fh.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new uh.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Il(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new dh.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Pi.default=hh;var Cs=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const Ul=Cs(Pi);Fe.PostgrestClient=Ul.default;const Ll=Cs(on);Fe.PostgrestQueryBuilder=Ll.default;const Dl=Cs(gr);Fe.PostgrestFilterBuilder=Dl.default;const Ml=Cs(an);Fe.PostgrestTransformBuilder=Ml.default;const Nl=Cs(ln);Fe.PostgrestBuilder=Nl.default;const Bl=Cs(cn);Fe.PostgrestError=Bl.default;var ph=Fe.default={PostgrestClient:Ul.default,PostgrestQueryBuilder:Ll.default,PostgrestFilterBuilder:Dl.default,PostgrestTransformBuilder:Ml.default,PostgrestBuilder:Nl.default,PostgrestError:Bl.default};const{PostgrestClient:gh,PostgrestQueryBuilder:yy,PostgrestFilterBuilder:by,PostgrestTransformBuilder:_y,PostgrestBuilder:wy,PostgrestError:xy}=ph;function mh(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const vh=mh(),yh="2.11.15",bh=`realtime-js/${yh}`,_h="1.0.0",Fl=1e4,wh=1e3;var zs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zs||(zs={}));var Pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pe||(Pe={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var Yn;(function(t){t.websocket="websocket"})(Yn||(Yn={}));var Qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qt||(Qt={}));class xh{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ql{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ge||(ge={}));const Mo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Sh(o,t,e,n),i),{})},Sh=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Vl(i,o):Xn(o)},Vl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return $h(e,s)}switch(t){case ge.bool:return kh(e);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return Eh(e);case ge.json:case ge.jsonb:return Ch(e);case ge.timestamp:return Th(e);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Xn(e);default:return Xn(e)}},Xn=t=>t,kh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Eh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ch=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$h=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Vl(e,a))}return t},Th=t=>typeof t=="string"?t.replace(" ","T"):t,Hl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Tn{constructor(e,s,r={},n=Fl){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var No;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(No||(No={}));class Gs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Gs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Gs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),w=c.filter(b=>p.indexOf(b.presence_ref)<0),x=d.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bo||(Bo={}));var Fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fo||(Fo={}));var bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class Ai{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Tn(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new ql(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Gs(this),this.broadcastEndpointURL=Hl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(bt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(bt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(bt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,w=[];for(let x=0;x<p;x++){const b=h[x],{filter:{event:_,schema:$,table:C,filter:A}}=b,U=c&&c[x];if(U&&U.event===_&&U.schema===$&&U.table===C&&U.filter===A)w.push(Object.assign(Object.assign({},b),{id:U.id}));else{this.unsubscribe(),this.state=Pe.errored,e==null||e(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(bt.SUBSCRIBED);return}}).receive("error",c=>{this.state=Pe.errored,e==null||e(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Tn(this,Ze.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Tn(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ze;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,s,r);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var w,x,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,x,b,_,$,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const A=p.id,U=(w=p.filter)===null||w===void 0?void 0:w.event;return A&&((x=s.ids)===null||x===void 0?void 0:x.includes(A))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const A=($=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return A==="*"||A===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:x,table:b,commit_timestamp:_,type:$,errors:C}=w;h=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:_,eventType:$,new:{},old:{},errors:C}),this._getPayloadRecords(w))}p.callback(h,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ai.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Mo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Mo(e.columns,e.old_record)),s}}const qo=()=>{},Ph=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ah{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fl,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qo,this.ref=0,this.logger=qo,this.conn=null,this.sendBuffer=[],this.serializer=new xh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>pr(async()=>{const{default:l}=await Promise.resolve().then(()=>Es);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Yn.websocket}`,this.httpEndpoint=Hl(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ql(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=vh),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_h}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zs.connecting:return Qt.Connecting;case zs.open:return Qt.Open;case zs.closing:return Qt.Closing;default:return Qt.Closed}}isConnected(){return this.connectionState()===Qt.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Ai(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:bh};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Ze.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(wh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Ph],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Oi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Oh extends Oi{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zn extends Oi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Rh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Wl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>pr(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},jh=()=>Rh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pr(()=>Promise.resolve().then(()=>Es),void 0,import.meta.url)).Response:Response}),ei=t=>{if(Array.isArray(t))return t.map(s=>ei(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=ei(r)}),e},Ih=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var es=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Pn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uh=(t,e,s)=>es(void 0,void 0,void 0,function*(){const r=yield jh();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new Oh(Pn(n),i,o))}).catch(n=>{e(new Zn(Pn(n),n))}):e(new Zn(Pn(t),t))}),Lh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?n:(Ih(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),s))};function mr(t,e,s,r,n,i){return es(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Lh(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Uh(l,a,r))})})}function Br(t,e,s,r){return es(this,void 0,void 0,function*(){return mr(t,"GET",e,s,r)})}function _t(t,e,s,r,n){return es(this,void 0,void 0,function*(){return mr(t,"POST",e,r,n,s)})}function ti(t,e,s,r,n){return es(this,void 0,void 0,function*(){return mr(t,"PUT",e,r,n,s)})}function Dh(t,e,s,r){return es(this,void 0,void 0,function*(){return mr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Kl(t,e,s,r,n){return es(this,void 0,void 0,function*(){return mr(t,"DELETE",e,r,n,s)})}var Be=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Mh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nh{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Wl(n)}uploadOrUpdate(e,s,r,n){return Be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Vo),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield(e=="PUT"?ti:_t)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Vo.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield ti(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield _t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Oi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(e,s,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Be(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield _t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield _t(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Be(this,void 0,void 0,function*(){try{const n=yield _t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}download(e,s){return Be(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Br(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}})}info(e){return Be(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Br(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:ei(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(e){return Be(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Dh(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof Zn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}list(e,s,r){return Be(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Mh),s),{prefix:e||""});return{data:yield _t(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Bh="2.10.4",Fh={"X-Client-Info":`storage-js/${Bh}`};var is=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class qh{constructor(e,s={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Fh),s),this.fetch=Wl(r)}listBuckets(){return is(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ce(e))return{data:null,error:e};throw e}})}getBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return is(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return is(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}deleteBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}}class Vh extends qh{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new Nh(this.url,this.headers,e,this.fetch)}}const Hh="2.53.0";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const Wh={"X-Client-Info":`supabase-js-${Us}/${Hh}`},Kh={headers:Wh},zh={schema:"public"},Gh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jh={};var Qh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Yh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Al:e=fetch,(...s)=>e(...s)},Xh=()=>typeof Headers>"u"?Ol:Headers,Zh=(t,e,s)=>{const r=Yh(s),n=Xh();return(i,o)=>Qh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ep=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function tp(t){return t.endsWith("/")?t:t+"/"}function sp(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ep(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const zl="2.71.1",hs=30*1e3,si=3,An=si*hs,rp="http://localhost:9999",np="supabase.auth.token",ip={"X-Client-Info":`gotrue-js/${zl}`},ri="X-Supabase-Api-Version",Gl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},op=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ap=10*60*1e3;class Ri extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function Z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lp extends Ri{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function cp(t){return Z(t)&&t.name==="AuthApiError"}class Jl extends Ri{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class qt extends Ri{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Rt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function up(t){return Z(t)&&t.name==="AuthSessionMissingError"}class wr extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xr extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sr extends qt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dp(t){return Z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ho extends qt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ni extends qt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function On(t){return Z(t)&&t.name==="AuthRetryableFetchError"}class Wo extends qt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class ii extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ko=` 	
\r=`.split(""),fp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ko.length;e+=1)t[Ko[e].charCodeAt(0)]=-2;for(let e=0;e<Fr.length;e+=1)t[Fr[e].charCodeAt(0)]=e;return t})();function zo(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Fr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Fr[r]),e.queuedBits-=6}}function Ql(t,e,s){const r=fp[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Go(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{gp(o,r,s)};for(let o=0;o<t.length;o+=1)Ql(t.charCodeAt(o),n,i);return e.join("")}function hp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pp(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}hp(r,e)}}function gp(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function mp(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Ql(t.charCodeAt(n),s,r);return new Uint8Array(e)}function vp(t){const e=[];return pp(t,s=>e.push(s)),new Uint8Array(e)}function yp(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>zo(n,s,r)),zo(null,s,r),e.join("")}function bp(t){return Math.round(Date.now()/1e3)+t}function _p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},Yl=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function wp(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Xl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>pr(async()=>{const{default:r}=await Promise.resolve().then(()=>Es);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},xp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ps=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},zt=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},At=async(t,e)=>{await t.removeItem(e)};class fn{constructor(){this.promise=new fn.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}fn.promiseConstructor=Promise;function Rn(t){const e=t.split(".");if(e.length!==3)throw new ii("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!op.test(e[r]))throw new ii("JWT not in base64url format");return{header:JSON.parse(Go(e[0])),payload:JSON.parse(Go(e[1])),signature:mp(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kp(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ep(t){return("0"+t.toString(16)).substr(-2)}function Cp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Ep).join("")}async function $p(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Tp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await $p(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function os(t,e,s=!1){const r=Cp();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ps(t,`${e}-code-verifier`,n);const i=await Tp(r);return[i,r===i?"plain":"s256"]}const Pp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ap(t){const e=t.headers.get(ri);if(!e||!e.match(Pp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Op(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Rp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function as(t){if(!jp.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jo(t){return JSON.parse(JSON.stringify(t))}var Ip=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Up=[502,503,504];async function Qo(t){var e;if(!xp(t))throw new ni(Jt(t),0);if(Up.includes(t.status))throw new ni(Jt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Jl(Jt(i),i)}let r;const n=Ap(t);if(n&&n.getTime()>=Gl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Wo(Jt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Rt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wo(Jt(s),t.status,s.weak_password.reasons);throw new lp(Jt(s),t.status||500,r)}const Lp=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function te(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[ri]||(i[ri]=Gl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Dp(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Dp(t,e,s,r,n,i){const o=Lp(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new ni(Jt(l),0)}if(a.ok||await Qo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Qo(l)}}function vt(t){var e;let s=null;Fp(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=bp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Yo(t){const e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Mp(t){return{data:t,error:null}}function Np(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Ip(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Bp(t){return t}function Fp(t){return t.access_token&&t.refresh_token&&t.expires_in}const In=["global","local","others"];var qp=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Vp{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Xl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=In[0]){if(In.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${In.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Dt})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=qp(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Np,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Z(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(s){if(Z(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Bp});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){as(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(s){if(Z(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){as(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Dt})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){as(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Dt})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){as(e.userId);try{const{data:s,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(Z(s))return{data:null,error:s};throw s}}async _deleteFactor(e){as(e.userId),as(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}}}function Xo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Hp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ls={debug:!!(globalThis&&Yl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wp extends Zl{}async function Kp(t,e,s){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Wp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ls.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Hp();const zp={url:rp,storageKey:np,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ip,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zo(t,e,s){return await s()}const cs={};class ar{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ar.nextInstanceID,ar.nextInstanceID+=1,this.instanceID>0&&Xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},zp),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Vp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Xl(n.fetch),this.lock=n.lock||Zo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Xe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Kp:this.lock=Zo,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Yl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xo(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Xo(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=cs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=cs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=wp(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Xe()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dp(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Z(s)?{error:s}:{error:new Jl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await os(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:vt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vt})}else throw new xr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yo})}else throw new xr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,d,h,p;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:b,wallet:_,statement:$,options:C}=e;let A;if(Xe())if(typeof _=="object")A=_;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))A=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const U=new URL((s=C==null?void 0:C.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in A&&A.signIn){const P=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),$?{statement:$}:null));let v;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")v=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)v=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in v&&"signature"in v&&(typeof v.signedMessage=="string"||v.signedMessage instanceof Uint8Array)&&v.signature instanceof Uint8Array)w=typeof v.signedMessage=="string"?v.signedMessage:new TextDecoder().decode(v.signedMessage),x=v.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${U.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(n=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=C==null?void 0:C.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((d=(c=C==null?void 0:C.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...C.signInWithSolana.resources.map(v=>`- ${v}`)]:[]].join(`
`);const P=await A.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=P}}try{const{data:b,error:_}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:yp(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vt});if(_)throw _;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new wr}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:_})}catch(b){if(Z(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const s=await zt(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vt});if(await At(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await os(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new xr("You must provide either an email or phone number.")}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(Z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await os(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Mp})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Rt;const{error:n}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xr("You must provide either an email or phone number and a type")}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<An:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=jn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(s){if(Z(s))return up(s)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Rt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await os(this.storage,this.storageKey));const{data:u,error:c}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Rn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Z(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Xe())throw new Sr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ho("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ho("No code detected.");const{data:$,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Sr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=h-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,c);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const _={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(Z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(cp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=_p(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await os(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Xe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Z(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Z(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await kp(async n=>(n>0&&await Sp(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&On(i)&&Date.now()+o-r<hs})}catch(r){if(this._debug(s,"error",r),Z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Xe()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await zt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ps(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:jn()}else if(n&&!n.user&&!n.user){const o=await zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await At(this.storage,this.storageKey+"-user"),await ps(this.storage,this.storageKey,n)):n.user=jn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<An;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${An}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),On(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new fn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),Z(i)){const o={session:null,error:i};return On(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await ps(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=Jo(n);await ps(this.storage,this.storageKey,i)}else{const n=Jo(s);await ps(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${hs}ms, refresh threshold is ${si} ticks`),n<=si&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await os(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Z(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(Z(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(Z(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Z(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Rn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+ap>n)return r;const{data:i,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};r=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Rn(r);s!=null&&s.allowExpired||Op(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const c=Rp(n.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,vp(`${a}.${l}`)))throw new ii("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}}ar.nextInstanceID=0;const Gp=ar;class Jp extends Gp{constructor(e){super(e)}}var Qp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Yp{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=tp(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:zh,realtime:Jh,auth:Object.assign(Object.assign({},Gh),{storageKey:u}),global:Kh},d=sp(r??{},c);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Zh(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new gh(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Vh(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Hf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Qp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jp({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ah(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xp=(t,e,s)=>new Yp(t,e,s);function Zp(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Zp()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eg="https://gzjczqmkmoqlhvopixeg.supabase.co",tg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd6amN6cW1rbW9xbGh2b3BpeGVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxODEyMjgsImV4cCI6MjA2OTc1NzIyOH0.j-wvlj7coIf2JQMQhbvR_6STF8fF8wTPo-DOQXdgPJ0",se=Xp(eg,tg),js={async signIn(t,e){const{data:s,error:r}=await se.auth.signInWithPassword({email:t,password:e});return{data:s,error:r}},async signUp(t){const{email:e,password:s,name:r,phone:n,role:i="student",studentCode:o,classId:a,className:l,specialization:u}=t,{data:c,error:d}=await se.auth.signUp({email:e,password:s});return c!=null&&c.user&&!d&&localStorage.setItem("pendingProfileData",JSON.stringify({email:e,name:r||"",phone:n||"",role:i,student_code:o,class_id:a,class_name:l,specialization:u})),{data:c,error:d}},async getCurrentUser(){const{data:{user:t},error:e}=await se.auth.getUser();if(e||!t)return{user:null,profile:null,error:e};const{data:s,error:r}=await se.from("profiles").select("*").eq("id",t.id).limit(1);return r?{user:t,profile:null,error:r}:!s||s.length===0?{user:t,profile:null,error:{message:"لم يتم العثور على الملف الشخصي للمستخدم"}}:{user:t,profile:s[0],error:null}},async signOut(){const{error:t}=await se.auth.signOut();return localStorage.removeItem("pendingProfileData"),{error:t}},onAuthStateChange(t){return se.auth.onAuthStateChange(t)}},ke={async createProfile(t,e){const{data:s,error:r}=await se.from("profiles").insert([{id:t,...e}]).select().single();return{data:s,error:r}},async getProfileByPhone(t){const{data:e,error:s}=await se.from("profiles").select("*").eq("phone",t).limit(1);return s?{data:null,error:s}:{data:e&&e.length>0?e[0]:null,error:null}},async getProfile(t){const{data:e,error:s}=await se.from("profiles").select("*").eq("id",t).limit(1);return s?{data:null,error:s}:{data:e&&e.length>0?e[0]:null,error:null}},async updateProfile(t,e){const{data:s,error:r}=await se.from("profiles").update(e).eq("id",t).select();return r?{data:null,error:r}:{data:s&&s.length>0?s[0]:null,error:null}},async getAllUsers(){const{data:t,error:e}=await se.from("profiles").select("*").order("created_at",{ascending:!1});return{data:t,error:e}},async updateUserRole(t,e){const{data:s,error:r}=await se.from("profiles").update({role:e}).eq("id",t).select();return r?{data:null,error:r}:!s||s.length===0?{data:null,error:{message:"لم يتم العثور على المستخدم للتحديث"}}:{data:s[0],error:null}},async getClasses(){const{data:t,error:e}=await se.from("classes").select("*").order("created_at",{ascending:!1});return{data:t,error:e}},async addClass(t){const{data:e,error:s}=await se.from("classes").insert([t]).select().single();return{data:e,error:s}},async updateClass(t,e){const{data:s,error:r}=await se.from("classes").update(e).eq("id",t).select().single();return{data:s,error:r}},async deleteClass(t){const{error:e}=await se.from("classes").delete().eq("id",t);return{error:e}},async getVideos(t=null){let e=se.from("videos").select("*").order("created_at",{ascending:!1});t&&(e=e.eq("class_id",t));const{data:s,error:r}=await e;return{data:s,error:r}},async addVideo(t){const{data:e,error:s}=await se.from("videos").insert([t]).select().single();return{data:e,error:s}},async updateVideo(t,e){const{data:s,error:r}=await se.from("videos").update(e).eq("id",t).select().single();return{data:s,error:r}},async deleteVideo(t){const{error:e}=await se.from("videos").delete().eq("id",t);return{error:e}},async getFiles(t=null){let e=se.from("files").select("*").order("created_at",{ascending:!1});t&&(e=e.eq("class_id",t));const{data:s,error:r}=await e;return{data:s,error:r}},async addFile(t){const{data:e,error:s}=await se.from("files").insert([t]).select().single();return{data:e,error:s}},async updateFile(t,e){const{data:s,error:r}=await se.from("files").update(e).eq("id",t).select().single();return{data:s,error:r}},async deleteFile(t){const{error:e}=await se.from("files").delete().eq("id",t);return{error:e}},async getAnnouncements(){const{data:t,error:e}=await se.from("announcements").select("*").order("created_at",{ascending:!1});return{data:t,error:e}},async addAnnouncement(t){const{data:e,error:s}=await se.from("announcements").insert([t]).select().single();return{data:e,error:s}},async updateAnnouncement(t,e){const{data:s,error:r}=await se.from("announcements").update(e).eq("id",t).select().single();return{data:s,error:r}},async deleteAnnouncement(t){const{error:e}=await se.from("announcements").delete().eq("id",t);return{error:e}},async getReports(){const{data:t,error:e}=await se.from("reports").select("*").order("created_at",{ascending:!1});return{data:t,error:e}},async addReport(t){const{data:e,error:s}=await se.from("reports").insert([t]).select().single();return{data:e,error:s}},async updateReport(t,e){const{data:s,error:r}=await se.from("reports").update(e).eq("id",t).select().single();return{data:s,error:r}},async deleteReport(t){const{error:e}=await se.from("reports").delete().eq("id",t);return{error:e}},async getWarnings(t=null){let e=se.from("warnings").select("*").order("created_at",{ascending:!1});t&&(e=e.eq("user_id",t));const{data:s,error:r}=await e;return{data:s,error:r}},async addWarning(t){const{data:e,error:s}=await se.from("warnings").insert([t]).select().single();return{data:e,error:s}},async updateWarning(t,e){const{data:s,error:r}=await se.from("warnings").update(e).eq("id",t).select().single();return{data:s,error:r}},async deleteWarning(t){const{error:e}=await se.from("warnings").delete().eq("id",t);return{error:e}}},$s=tn("auth",()=>{const t=ne(null),e=ne(null),s=ne(!1),r=ne(null),n=ie(()=>!!t.value&&!!e.value);return{user:t,profile:e,loading:s,error:r,isAuthenticated:n,login:async(c,d)=>{var h;s.value=!0,r.value=null;try{const p=await js.signIn(c,d);if(p.error)return r.value=p.error.message||"خطأ في تسجيل الدخول",!1;const w=await js.getCurrentUser();if(w.user){if(t.value=w.user,w.profile)e.value=w.profile;else{const x=localStorage.getItem("pendingProfileData");if(x)try{const b=JSON.parse(x),{data:_,error:$}=await ke.createProfile(w.user.id,b);if($)return console.error("Profile creation error:",$),r.value="فشل في إنشاء الملف الشخصي",!1;e.value=_,localStorage.removeItem("pendingProfileData")}catch(b){return console.error("Error parsing pending profile data:",b),localStorage.removeItem("pendingProfileData"),r.value="خطأ في بيانات الملف الشخصي",!1}else{const b={email:w.user.email,name:"",phone:"",role:"student"},{data:_,error:$}=await ke.createProfile(w.user.id,b);if($)return console.error("Basic profile creation error:",$),r.value="فشل في إنشاء الملف الشخصي الأساسي",!1;e.value=_}}return t.value=w.user,!0}return r.value=((h=w.error)==null?void 0:h.message)||"فشل في الحصول على بيانات المستخدم",!1}catch(p){return console.error("Login error:",p),r.value=p.message,!1}finally{s.value=!1}},signup:async c=>{var d;s.value=!0,r.value=null;try{const h=await js.signUp(c);return h.error?(r.value=h.error.message,{success:!1,message:h.error.message}):(d=h.data)!=null&&d.user?{success:!0,message:"تم إنشاء الحساب بنجاح! يمكنك الآن تسجيل الدخول."}:{success:!1,message:"فشل في إنشاء الحساب"}}catch(h){return console.error("Signup error:",h),r.value=h.message,{success:!1,message:h.message}}finally{s.value=!1}},logout:async()=>{s.value=!0;try{await js.signOut(),t.value=null,e.value=null,r.value=null}catch(c){r.value=c.message}finally{s.value=!1}},initAuth:async()=>{if(!s.value){s.value=!0;try{const c=await js.getCurrentUser();c.user&&c.profile&&(t.value=c.user,e.value=c.profile)}catch(c){console.error("Error initializing auth:",c),t.value=null,e.value=null}finally{s.value=!1}}},promoteUser:async(c,d,h={})=>{try{const{data:p}=await ke.getAllUsers(),w=p==null?void 0:p.find(b=>b.phone===c||b.email===c);if(!w)return{success:!1,message:"المستخدم غير موجود"};if(w.role===d)return{success:!1,message:`المستخدم لديه صلاحية ${d} بالفعل`};const x=await ke.updateUserRole(w.id,d,h);return x.error?{success:!1,message:x.error.message}:{success:!0,message:`تم ترقية المستخدم إلى ${d} بنجاح`}}catch(p){return{success:!1,message:p.message}}}}}),sg={class:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50 relative overflow-hidden"},rg={class:"glass-morphism shadow-xl relative z-10"},ng={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ig={class:"flex justify-between items-center py-6"},og={__name:"Home",setup(t){return(e,s)=>{const r=Va("router-link");return D(),B("div",sg,[s[2]||(s[2]=f("div",{class:"absolute inset-0 overflow-hidden"},[f("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full opacity-20 animate-pulse"}),f("div",{class:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-full opacity-20 animate-pulse",style:{"animation-delay":"1s"}}),f("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-indigo-400 to-purple-400 rounded-full opacity-10 animate-pulse",style:{"animation-delay":"2s"}})],-1)),f("header",rg,[f("div",ng,[f("div",ig,[s[1]||(s[1]=er('<div class="flex items-center space-x-4 rtl:space-x-reverse"><div class="w-14 h-14 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg glow-effect icon-bounce"><svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg></div><div><h1 class="text-2xl font-bold text-gradient">المنصة الرسمية</h1><p class="text-sm text-gray-700 font-medium">لطلاب مياه الشرب والصرف الصحي بقنا</p></div></div>',1)),W(r,{to:"/login",class:"btn-gradient-primary hover-lift"},{default:La(()=>s[0]||(s[0]=[f("span",null,"تسجيل الدخول",-1)])),_:1,__:[0]})])])]),s[3]||(s[3]=er('<section class="py-20 relative z-10"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center"><h2 class="text-5xl font-bold text-gradient mb-8 float-animation"> منصة التعلم الإلكتروني المتطورة </h2><p class="text-xl text-gray-700 mb-12 max-w-3xl mx-auto leading-relaxed"> منصة شاملة لتعليم طلاب مياه الشرب والصرف الصحي بأحدث الطرق التعليمية والتقنيات المتقدمة </p><div class="grid md:grid-cols-3 gap-8 mt-16"><div class="card-enhanced p-8 hover-lift"><div class="w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl mx-auto mb-6 flex items-center justify-center shadow-lg glow-effect"><svg class="w-8 h-8 sm:w-10 sm:h-10 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"></path></svg></div><h3 class="text-lg sm:text-xl font-bold mb-4 text-gray-800">تعليم متخصص</h3><p class="text-gray-600 leading-relaxed">مناهج متخصصة في مياه الشرب والصرف الصحي بأحدث المعايير العالمية</p></div><div class="card-enhanced p-8 hover-lift" style="animation-delay:0.2s;"><div class="w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-blue-600 rounded-xl mx-auto mb-6 flex items-center justify-center shadow-lg glow-effect"><svg class="w-8 h-8 sm:w-10 sm:h-10 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div><h3 class="text-lg sm:text-xl font-bold mb-4 text-gray-800">محتوى مرئي</h3><p class="text-gray-600 leading-relaxed">فيديوهات تعليمية عالية الجودة مع تقنيات تفاعلية حديثة</p></div><div class="card-enhanced p-8 hover-lift" style="animation-delay:0.4s;"><div class="w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl mx-auto mb-6 flex items-center justify-center shadow-lg glow-effect"><svg class="w-8 h-8 sm:w-10 sm:h-10 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg></div><h3 class="text-lg sm:text-xl font-bold mb-4 text-gray-800">تفاعل مباشر</h3><p class="text-gray-600 leading-relaxed">تواصل مباشر مع المدربين والزملاء في بيئة تعليمية تفاعلية</p></div></div></div></section><section class="py-20 glass-morphism relative z-10 mx-4 rounded-3xl"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><h3 class="text-4xl font-bold text-center text-gradient mb-16">الصفوف الدراسية</h3><div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"><div class="card-enhanced p-8 bg-gradient-to-br from-blue-50 to-blue-100 hover-lift"><div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg mb-4 flex items-center justify-center"><span class="text-white font-bold text-base sm:text-lg">١</span></div><h4 class="text-lg sm:text-xl font-bold text-blue-900 mb-3">الصف الأول</h4><p class="text-blue-700 leading-relaxed">تخصص عام - المبادئ الأساسية والمفاهيم الجوهرية</p></div><div class="card-enhanced p-8 bg-gradient-to-br from-cyan-50 to-cyan-100 hover-lift" style="animation-delay:0.2s;"><div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg mb-4 flex items-center justify-center"><span class="text-white font-bold text-base sm:text-lg">٢</span></div><h4 class="text-lg sm:text-xl font-bold text-cyan-900 mb-3">الصف الثاني</h4><p class="text-cyan-700 leading-relaxed">تخصص مياه شرب وصرف صحي - التطبيقات العملية</p></div><div class="card-enhanced p-8 bg-gradient-to-br from-teal-50 to-teal-100 hover-lift" style="animation-delay:0.4s;"><div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-lg mb-4 flex items-center justify-center"><span class="text-white font-bold text-base sm:text-lg">٣</span></div><h4 class="text-lg sm:text-xl font-bold text-teal-900 mb-3">الصف الثالث</h4><p class="text-teal-700 leading-relaxed">التخصص المتقدم - الخبرة والاحترافية</p></div></div></div></section><footer class="bg-gradient-to-r from-gray-900 via-purple-900 to-gray-900 text-white py-16 relative z-10"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center"><div class="flex items-center justify-center space-x-4 rtl:space-x-reverse mb-4"><div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center glow-effect"><svg class="w-6 h-6 sm:w-8 sm:h-8 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg></div><h4 class="text-lg sm:text-xl font-bold">المنصة الرسمية لطلاب مياه الشرب والصرف الصحي بقنا</h4></div><p class="text-gray-300 text-base sm:text-lg">جميع الحقوق محفوظة © 2025</p></div></footer>',3))])}}};/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ag=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),lg=t=>{const e=ag(t);return e.charAt(0).toUpperCase()+e.slice(1)},cg=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=({size:t,strokeWidth:e=2,absoluteStrokeWidth:s,color:r,iconNode:n,name:i,class:o,...a},{slots:l})=>sr("svg",{...kr,width:t||kr.width,height:t||kr.height,stroke:r||kr.stroke,"stroke-width":s?Number(e)*24/Number(t):e,class:cg("lucide",...i?[`lucide-${ea(lg(i))}-icon`,`lucide-${ea(i)}`]:["lucide-icon"]),...a},[...n.map(u=>sr(...u)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>(s,{slots:r})=>sr(ug,{...s,iconNode:e,name:t},r);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Ee("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Ee("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Ee("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Ee("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Ee("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Ee("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Ee("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Ee("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ee("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ee("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Ee("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ee("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Ee("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ee("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ee("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Ee("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Ee("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ee("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ee("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),_g={class:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"},wg={class:"max-w-md w-full space-y-8"},xg={class:"text-center relative z-10"},Sg={class:"mx-auto w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mb-6 shadow-2xl glow-effect float-animation"},kg={class:"text-4xl font-bold text-gradient mb-4"},Eg={class:"card-enhanced p-10 space-y-6 hover-lift"},Cg={key:0},$g={key:1,class:"space-y-4"},Tg={key:2,class:"bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-xl font-medium"},Pg={key:3,class:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 text-green-700 px-6 py-4 rounded-xl font-medium"},Ag=["disabled"],Og={key:0,class:"flex items-center justify-center"},Rg={key:1},jg={class:"text-center"},Ig={key:0,class:"card-enhanced p-8 hover-lift relative z-10"},Ug={key:1,class:"card-enhanced p-6 hover-lift relative z-10"},Lg={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},Dg=["disabled"],Mg=["disabled"],Ng=["disabled"],Bg={__name:"Login",setup(t){const e=nn(),s=$s(),r=ne(!1),n=ne(""),i=ne(""),o=ne(""),a=ne(""),l=ne(!1),u=ne({name:"",username:"",phone:"",email:"",class:"",password:""}),c=ie({get(){return r.value?u.value.password:i.value},set(b){r.value?u.value.password=b:i.value=b}}),d=b=>({"first-general":"الصف الأول - تخصص عام","second-water":"الصف الثاني - تخصص مياه شرب","second-sewage":"الصف الثاني - تخصص صرف صحي","third-water":"الصف الثالث - تخصص مياه شرب","third-sewage":"الصف الثالث - تخصص صرف صحي"})[b]||"",h=()=>{r.value=!r.value,o.value="",a.value=""},p=async b=>{l.value=!0,o.value="",a.value="";const _={student:{name:"أحمد محمد (تجريبي)",email:"student@demo.com",phone:"01234567890",password:"123456",classId:"first-general",className:"الصف الأول - تخصص عام",studentCode:"ST001"},trainer:{name:"د. محمد أحمد (مدرب تجريبي)",email:"trainer@demo.com",phone:"01111111111",password:"123456",specialization:"مياه الشرب"},admin:{name:"مدير المنصة (تجريبي)",email:"admin@demo.com",phone:"01000000000",password:"123456"}};try{const $=_[b],C=await s.signup($);C.success?(a.value=`تم إنشاء حساب ${b==="student"?"الطالب":b==="trainer"?"المدرب":"المدير"} التجريبي بنجاح!`,setTimeout(()=>{a.value=""},3e3)):o.value=C.message}catch{o.value="حدث خطأ أثناء إنشاء الحساب التجريبي"}finally{l.value=!1}},w=async()=>{var b;l.value=!0,o.value="";try{if(await s.login(n.value,i.value))switch((b=s.profile)==null?void 0:b.role){case"student":e.push("/student");break;case"trainer":e.push("/trainer");break;case"admin":e.push("/admin");break;default:e.push("/")}else o.value=s.error||"بيانات تسجيل الدخول غير صحيحة"}catch(_){console.error("Login error:",_),o.value="حدث خطأ أثناء تسجيل الدخول"}finally{l.value=!1}},x=async()=>{l.value=!0,o.value="",a.value="";try{const b=await s.signup({name:u.value.name,phone:u.value.phone,email:u.value.email,password:u.value.password,classId:u.value.class,className:d(u.value.class)});b.success?(a.value=b.message,u.value={name:"",username:"",phone:"",email:"",class:"",password:""},setTimeout(()=>{r.value=!1,a.value=""},2e3)):o.value=b.message}catch(b){console.error("Signup error:",b),o.value="حدث خطأ أثناء إنشاء الحساب"}finally{l.value=!1}};return(b,_)=>(D(),B("div",_g,[_[27]||(_[27]=f("div",{class:"absolute inset-0 overflow-hidden"},[f("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full opacity-20 animate-pulse"}),f("div",{class:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-full opacity-20 animate-pulse",style:{"animation-delay":"1s"}})],-1)),f("div",wg,[f("div",xg,[f("div",Sg,[W(H(hn),{class:"w-12 h-12 text-white"})]),f("h2",kg,F(r.value?"إنشاء حساب جديد":"تسجيل الدخول"),1),_[11]||(_[11]=f("p",{class:"mt-2 text-gray-700 font-medium text-lg"},"المنصة الرسمية لطلاب مياه الشرب والصرف الصحي",-1))]),f("form",{onSubmit:_[7]||(_[7]=nr($=>r.value?x():w(),["prevent"])),class:"mt-8 space-y-6 relative z-10"},[f("div",Eg,[r.value?ve("",!0):(D(),B("div",Cg,[_[12]||(_[12]=f("label",{for:"email",class:"block text-sm font-bold text-gray-700 mb-3"}," البريد الإلكتروني ",-1)),_e(f("input",{id:"email","onUpdate:modelValue":_[0]||(_[0]=$=>n.value=$),type:"email",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"أدخل البريد الإلكتروني"},null,512),[[We,n.value]])])),r.value?(D(),B("div",$g,[f("div",null,[_[13]||(_[13]=f("label",{for:"name",class:"block text-sm font-bold text-gray-700 mb-3"}," الاسم الكامل ",-1)),_e(f("input",{id:"name","onUpdate:modelValue":_[1]||(_[1]=$=>u.value.name=$),type:"text",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"أدخل الاسم الكامل"},null,512),[[We,u.value.name]])]),f("div",null,[_[14]||(_[14]=f("label",{for:"username",class:"block text-sm font-bold text-gray-700 mb-3"}," اسم المستخدم ",-1)),_e(f("input",{id:"username","onUpdate:modelValue":_[2]||(_[2]=$=>u.value.username=$),type:"text",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"أدخل اسم المستخدم"},null,512),[[We,u.value.username]])]),f("div",null,[_[15]||(_[15]=f("label",{for:"phone",class:"block text-sm font-bold text-gray-700 mb-3"}," رقم الهاتف ",-1)),_e(f("input",{id:"phone","onUpdate:modelValue":_[3]||(_[3]=$=>u.value.phone=$),type:"tel",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"أدخل رقم الهاتف"},null,512),[[We,u.value.phone]])]),f("div",null,[_[16]||(_[16]=f("label",{for:"email",class:"block text-sm font-bold text-gray-700 mb-3"}," البريد الإلكتروني ",-1)),_e(f("input",{id:"email","onUpdate:modelValue":_[4]||(_[4]=$=>u.value.email=$),type:"email",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"أدخل البريد الإلكتروني"},null,512),[[We,u.value.email]])]),f("div",null,[_[18]||(_[18]=f("label",{for:"class",class:"block text-sm font-bold text-gray-700 mb-3"}," الصف الدراسي ",-1)),_e(f("select",{id:"class","onUpdate:modelValue":_[5]||(_[5]=$=>u.value.class=$),required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white"},_[17]||(_[17]=[er('<option value="">اختر الصف</option><option value="first-general">الصف الأول - تخصص عام</option><option value="second-water">الصف الثاني - تخصص مياه شرب</option><option value="second-sewage">الصف الثاني - تخصص صرف صحي</option><option value="third-water">الصف الثالث - تخصص مياه شرب</option><option value="third-sewage">الصف الثالث - تخصص صرف صحي</option>',6)]),512),[[ds,u.value.class]])])])):ve("",!0),f("div",null,[_[19]||(_[19]=f("label",{for:"password",class:"block text-sm font-bold text-gray-700 mb-3"}," كلمة المرور ",-1)),_e(f("input",{id:"password","onUpdate:modelValue":_[6]||(_[6]=$=>c.value=$),type:"password",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white",placeholder:"أدخل كلمة المرور"},null,512),[[We,c.value]])]),o.value?(D(),B("div",Tg,F(o.value),1)):ve("",!0),a.value?(D(),B("div",Pg,F(a.value),1)):ve("",!0),f("button",{type:"submit",disabled:l.value,class:"w-full btn-gradient-primary py-4 px-6 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed hover-lift"},[l.value?(D(),B("span",Og,[_[20]||(_[20]=f("div",{class:"loading-spinner w-5 h-5 mr-3"},null,-1)),Mr(" "+F(r.value?"جاري إنشاء الحساب...":"جاري تسجيل الدخول..."),1)])):(D(),B("span",Rg,F(r.value?"إنشاء حساب":"تسجيل الدخول"),1))],8,Ag),f("div",jg,[f("button",{type:"button",onClick:h,class:"text-purple-600 hover:text-purple-800 font-semibold text-sm transition-colors duration-300"},F(r.value?"لديك حساب بالفعل؟ تسجيل الدخول":"ليس لديك حساب؟ إنشاء حساب جديد"),1)])])],32),r.value?ve("",!0):(D(),B("div",Ig,_[21]||(_[21]=[er('<h3 class="text-xl font-bold text-gradient mb-6">حسابات تجريبية:</h3><div class="space-y-3 text-sm"><div class="flex justify-between"><span class="font-bold text-blue-600">طالب:</span><span class="text-gray-700 bg-blue-50 px-3 py-1 rounded-full">01234567890 / 123456</span></div><div class="flex justify-between"><span class="font-bold text-green-600">مدرب:</span><span class="text-gray-700 bg-green-50 px-3 py-1 rounded-full">trainer1@example.com / 123456</span></div><div class="flex justify-between"><span class="font-bold text-purple-600">مدير:</span><span class="text-gray-700 bg-purple-50 px-3 py-1 rounded-full">admin@example.com / 123456</span></div><div class="text-xs text-gray-600 mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200"><strong>ملاحظة:</strong> إذا لم تعمل الحسابات التجريبية، يرجى إنشاء حساب جديد أولاً من خلال &quot;إنشاء حساب جديد&quot; </div><div class="text-xs text-gray-600 mt-4 p-3 bg-gray-50 rounded-lg"> يمكن تسجيل الدخول باستخدام رقم الهاتف أو البريد الإلكتروني </div></div>',2)]))),r.value?ve("",!0):(D(),B("div",Ug,[_[25]||(_[25]=f("h4",{class:"text-lg font-bold text-gradient mb-4"},"إنشاء حسابات تجريبية سريعة:",-1)),f("div",Lg,[f("button",{onClick:_[8]||(_[8]=$=>p("student")),class:"btn-gradient-primary py-2 px-4 text-sm",disabled:l.value},_[22]||(_[22]=[f("span",null,"إنشاء حساب طالب",-1)]),8,Dg),f("button",{onClick:_[9]||(_[9]=$=>p("trainer")),class:"btn-gradient-success py-2 px-4 text-sm",disabled:l.value},_[23]||(_[23]=[f("span",null,"إنشاء حساب مدرب",-1)]),8,Mg),f("button",{onClick:_[10]||(_[10]=$=>p("admin")),class:"btn-gradient-secondary py-2 px-4 text-sm",disabled:l.value},_[24]||(_[24]=[f("span",null,"إنشاء حساب مدير",-1)]),8,Ng)]),_[26]||(_[26]=f("p",{class:"text-xs text-gray-600 mt-3 text-center"}," سيتم إنشاء حسابات تجريبية بكلمة مرور: 123456 ",-1))]))])]))}},cr=tn("platform",()=>{const t=ne([]),e=ne([]),s=ne([]),r=ne([]),n=ne(!1),i=ne(null),o=ie(()=>P=>t.value.find(v=>v.id===P)),a=ie(()=>P=>e.value.filter(v=>v.class_id===P)),l=ie(()=>P=>s.value.filter(v=>v.class_id===P)),u=ie(()=>P=>e.value.filter(v=>v.class_id===P&&v.category==="practical")),c=ie(()=>P=>e.value.filter(v=>v.class_id===P&&v.category==="review")),d=ie(()=>e.value.length),h=ie(()=>s.value.length),p=async()=>{n.value=!0;try{const P=await ke.getClasses();P.error?i.value=P.error.message:t.value=P.data||[]}catch(P){i.value=P.message}finally{n.value=!1}},w=async()=>{n.value=!0;try{const P=await ke.getAllVideos();P.error?i.value=P.error.message:e.value=P.data||[]}catch(P){i.value=P.message}finally{n.value=!1}},x=async()=>{n.value=!0;try{const P=await ke.getClasses();if(P.data){const v=[];for(const Q of P.data){const X=await ke.getFilesByClass(Q.id);X.data&&v.push(...X.data)}s.value=v}}catch(P){i.value=P.message}finally{n.value=!1}},b=async()=>{n.value=!0;try{const P=await ke.getAnnouncements();P.error?i.value=P.error.message:r.value=P.data||[]}catch(P){i.value=P.message}finally{n.value=!1}};return{classes:t,videos:e,files:s,announcements:r,loading:n,error:i,getClassById:o,getVideosByClass:a,getFilesByClass:l,getPracticalVideosByClass:u,getReviewVideosByClass:c,getTotalVideosCount:d,getTotalFilesCount:h,loadClasses:p,loadVideos:w,loadFiles:x,loadAnnouncements:b,loadAllData:async()=>{await Promise.all([p(),w(),x(),b()])},addVideo:async P=>{try{const v=await ke.addVideo(P);return v.error?(i.value=v.error.message,!1):(e.value.unshift(v.data),!0)}catch(v){return i.value=v.message,!1}},addFile:async P=>{try{const v=await ke.addFile(P);return v.error?(i.value=v.error.message,!1):(s.value.unshift(v.data),!0)}catch(v){return i.value=v.message,!1}},addAnnouncement:async P=>{try{const v=await ke.addAnnouncement(P);return v.error?(i.value=v.error.message,!1):(r.value.unshift(v.data),!0)}catch(v){return i.value=v.message,!1}},deleteAnnouncement:async P=>{try{const v=await ke.deleteAnnouncement(P);return v.error?(i.value=v.error.message,!1):(r.value=r.value.filter(Q=>Q.id!==P),!0)}catch(v){return i.value=v.message,!1}}}}),sc=tn("warnings",()=>{const t=ne([]),e=ne(!1),s=ne(null),r=ie(()=>u=>t.value.filter(c=>c.user_id===u)),n=ie(()=>u=>t.value.filter(c=>c.user_id===u&&!c.is_read).length);return{warnings:t,loading:e,error:s,getWarningsByUser:r,getUnreadWarningsCount:n,loadWarningsForUser:async u=>{e.value=!0;try{const c=await ke.getWarningsForUser(u);c.error?s.value=c.error.message:t.value=c.data||[]}catch(c){s.value=c.message}finally{e.value=!1}},addWarning:async u=>{try{const c=await ke.addWarning(u);return c.error?(s.value=c.error.message,null):(t.value.unshift(c.data),c.data)}catch(c){return s.value=c.message,null}},markAsRead:async u=>{try{const c=await ke.markWarningAsRead(u);if(c.error)return s.value=c.error.message,!1;{const d=t.value.findIndex(h=>h.id===u);return d!==-1&&(t.value[d].is_read=!0),!0}}catch(c){return s.value=c.message,!1}},deleteWarning:u=>{const c=t.value.findIndex(d=>d.id===u);c!==-1&&t.value.splice(c,1)}}}),Ii=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Fg={class:"modal-body"},qg={__name:"WarningsModal",props:{isOpen:{type:Boolean,default:!1},message:{type:String,default:"An error has occurred."}},emits:["close"],setup(t,{emit:e}){const s=e,r=()=>{s("close")};return(n,i)=>t.isOpen?(D(),B("div",{key:0,class:"modal-overlay",onClick:r},[f("div",{class:"modal-content",onClick:i[0]||(i[0]=nr(()=>{},["stop"]))},[f("div",{class:"modal-header"},[i[1]||(i[1]=f("h3",null,"Warning",-1)),f("button",{onClick:r,class:"close-button"},"×")]),f("div",Fg,[f("p",null,F(t.message),1)]),f("div",{class:"modal-footer"},[f("button",{onClick:r,class:"btn btn-primary"},"OK")])])])):ve("",!0)}},rc=Ii(qg,[["__scopeId","data-v-dcd9f70d"]]),Vg={class:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50 relative overflow-hidden"},Hg={class:"glass-morphism shadow-xl relative z-10"},Wg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Kg={class:"flex justify-between items-center py-4"},zg={class:"flex items-center space-x-4 rtl:space-x-reverse"},Gg={class:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center glow-effect"},Jg={class:"text-sm text-gray-700 font-medium"},Qg={class:"flex items-center space-x-4 rtl:space-x-reverse"},Yg={key:0,class:"notification-badge absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center text-xs"},Xg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10"},Zg={class:"card-enhanced p-8 mb-8 hover-lift"},em={class:"flex items-center space-x-4 rtl:space-x-reverse"},tm={class:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg glow-effect float-animation"},sm={class:"text-3xl font-bold text-gradient mb-2"},rm={class:"text-gray-700 font-semibold text-lg"},nm={class:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full inline-block mt-2"},im={key:0,class:"card-enhanced p-8 mb-8 hover-lift"},om={class:"flex items-center space-x-3 rtl:space-x-reverse mb-6"},am={class:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center glow-effect"},lm={class:"space-y-4"},cm={class:"font-bold text-gray-900 mb-3 text-lg"},um={class:"text-gray-700 mb-3 leading-relaxed"},dm={class:"flex justify-between text-sm text-gray-500"},fm={class:"font-medium"},hm={class:"bg-white px-2 py-1 rounded-full"},pm={class:"grid md:grid-cols-3 gap-6 mb-8"},gm={class:"card-enhanced p-8 hover-lift"},mm={class:"flex items-center justify-between"},vm={class:"text-3xl font-bold text-gradient"},ym={class:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center glow-effect"},bm={class:"card-enhanced p-8 hover-lift",style:{"animation-delay":"0.1s"}},_m={class:"flex items-center justify-between"},wm={class:"text-3xl font-bold text-gradient"},xm={class:"w-16 h-16 bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl flex items-center justify-center glow-effect"},Sm={class:"card-enhanced p-8 hover-lift",style:{"animation-delay":"0.2s"}},km={class:"flex items-center justify-between"},Em={class:"text-2xl font-bold text-gradient"},Cm={class:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center glow-effect"},$m={class:"card-enhanced p-8 hover-lift"},Tm={class:"flex items-center space-x-3 rtl:space-x-reverse mb-6"},Pm={class:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center glow-effect"},Am={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},Om=["onClick"],Rm={class:"flex items-center space-x-3 rtl:space-x-reverse mb-4"},jm={class:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg"},Im={class:"font-bold text-gray-900 text-lg"},Um={class:"text-sm text-gray-600 leading-relaxed"},Lm={class:"space-y-2"},Dm={class:"flex items-center justify-between text-sm text-gray-600 font-medium"},Mm={class:"flex items-center space-x-2 rtl:space-x-reverse"},Nm={class:"flex items-center space-x-2 rtl:space-x-reverse"},Bm={class:"pt-3"},Fm=["onClick"],qm={key:0,class:"text-center py-12"},Vm={class:"w-20 h-20 bg-gradient-to-br from-gray-300 to-gray-400 rounded-2xl mx-auto mb-6 flex items-center justify-center"},Hm={__name:"StudentDashboard",setup(t){const e=nn(),s=$s(),r=cr(),n=sc(),i=ne(!1);wi(()=>{r.classes.length===0&&r.loadAllData()});const o=ie(()=>r.classes),a=ie(()=>r.videos.length),l=ie(()=>r.files.length),u=ie(()=>s.user?n.getUnreadWarningsCount(s.user.id,s.user.role):0),c=()=>{s.logout(),e.push("/")},d=x=>{e.push(`/class/${x}`)},h=()=>{var b;const x=((b=s.user)==null?void 0:b.className)||"";return x.includes("الأول")?"الأول":x.includes("الثاني")?"الثاني":x.includes("الثالث")?"الثالث":"غير محدد"},p=x=>r.getVideosByClass(x).length,w=x=>r.getFilesByClass(x).length;return(x,b)=>{var _,$,C,A;return D(),B("div",Vg,[b[12]||(b[12]=f("div",{class:"absolute inset-0 overflow-hidden"},[f("div",{class:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full opacity-10 animate-pulse"}),f("div",{class:"absolute -bottom-20 -left-20 w-48 h-48 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-full opacity-10 animate-pulse",style:{"animation-delay":"1s"}})],-1)),f("header",Hg,[f("div",Wg,[f("div",Kg,[f("div",zg,[f("div",Gg,[W(H(hn),{class:"w-7 h-7 text-white"})]),f("div",null,[b[2]||(b[2]=f("h1",{class:"text-xl font-bold text-gradient"},"لوحة الطالب",-1)),f("p",Jg,"مرحباً "+F((_=H(s).user)==null?void 0:_.name),1)])]),f("div",Qg,[f("button",{onClick:b[0]||(b[0]=U=>i.value=!0),class:"relative text-gray-600 hover:text-purple-600 p-3 rounded-xl hover:bg-purple-50 transition-all duration-300",title:"التحذيرات والإشعارات"},[W(H(ec),{class:"w-6 h-6"}),u.value>0?(D(),B("span",Yg,F(u.value),1)):ve("",!0)]),f("button",{onClick:c,class:"btn-gradient-secondary flex items-center space-x-2 rtl:space-x-reverse hover-lift"},[W(H(ji),{class:"w-5 h-5"}),b[3]||(b[3]=f("span",null,"تسجيل الخروج",-1))])])])])]),f("div",Xg,[f("div",Zg,[f("div",em,[f("div",tm,[W(H(yg),{class:"w-10 h-10 text-white"})]),f("div",null,[f("h2",sm,F(($=H(s).user)==null?void 0:$.name),1),f("p",rm,F((C=H(s).user)==null?void 0:C.className),1),f("p",nm,"كود الطالب: "+F((A=H(s).user)==null?void 0:A.studentCode),1)])])]),H(r).announcements.length>0?(D(),B("div",im,[f("div",om,[f("div",am,[W(H(gg),{class:"w-6 h-6 text-white"})]),b[4]||(b[4]=f("h3",{class:"text-2xl font-bold text-gradient"},"الإعلانات",-1))]),f("div",lm,[(D(!0),B(Se,null,et(H(r).announcements.slice(0,3),U=>(D(),B("div",{key:U.id,class:"border-r-4 border-gradient-to-b from-blue-500 to-purple-500 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl hover-lift"},[f("h4",cm,F(U.title),1),f("p",um,F(U.content),1),f("div",dm,[f("span",fm,F(U.author),1),f("span",hm,F(U.date),1)])]))),128))])])):ve("",!0),f("div",pm,[f("div",gm,[f("div",mm,[f("div",null,[b[5]||(b[5]=f("p",{class:"text-sm text-gray-600 font-medium mb-2"},"الفيديوهات المتاحة",-1)),f("p",vm,F(a.value),1)]),f("div",ym,[W(H(lr),{class:"w-8 h-8 text-white"})])])]),f("div",bm,[f("div",_m,[f("div",null,[b[6]||(b[6]=f("p",{class:"text-sm text-gray-600 font-medium mb-2"},"الملفات والملخصات",-1)),f("p",wm,F(l.value),1)]),f("div",xm,[W(H(Js),{class:"w-8 h-8 text-white"})])])]),f("div",Sm,[f("div",km,[f("div",null,[b[7]||(b[7]=f("p",{class:"text-sm text-gray-600 font-medium mb-2"},"الصف الدراسي",-1)),f("p",Em,F(h()),1)]),f("div",Cm,[W(H(gs),{class:"w-8 h-8 text-white"})])])])]),f("div",$m,[f("div",Tm,[f("div",Pm,[W(H(gs),{class:"w-6 h-6 text-white"})]),b[8]||(b[8]=f("h3",{class:"text-2xl font-bold text-gradient"},"الصفوف الدراسية المتاحة",-1))]),f("div",Am,[(D(!0),B(Se,null,et(o.value,U=>(D(),B("div",{key:U.id,class:"card-enhanced p-8 cursor-pointer hover-lift glow-effect",onClick:P=>d(U.id)},[f("div",Rm,[f("div",jm,[W(H(gs),{class:"w-7 h-7 text-white"})]),f("div",null,[f("h4",Im,F(U.name),1),f("p",Um,F(U.description),1)])]),f("div",Lm,[f("div",Dm,[f("span",Mm,[W(H(lr),{class:"w-4 h-4"}),f("span",null,F(p(U.id))+" فيديو",1)]),f("span",Nm,[W(H(Js),{class:"w-4 h-4"}),f("span",null,F(w(U.id))+" ملف",1)])]),f("div",Bm,[f("button",{onClick:nr(P=>d(U.id),["stop"]),class:"w-full btn-gradient-primary py-3 px-4 font-semibold"},b[9]||(b[9]=[f("span",null,"دخول الصف",-1)]),8,Fm)])])],8,Om))),128))]),o.value.length===0?(D(),B("div",qm,[f("div",Vm,[W(H(gs),{class:"w-10 h-10 text-white"})]),b[10]||(b[10]=f("h3",{class:"text-xl font-bold text-gray-900 mb-3"},"لا توجد صفوف متاحة",-1)),b[11]||(b[11]=f("p",{class:"text-gray-600 leading-relaxed"},"لم يتم العثور على صفوف دراسية متاحة لك حالياً",-1))])):ve("",!0)])]),W(rc,{"is-open":i.value,onClose:b[1]||(b[1]=U=>i.value=!1)},null,8,["is-open"])])}}},Wm=tn("reports",()=>{const t=ne([]),e=ne(!1),s=ne(null),r=ie(()=>t.value.filter(d=>d.status==="pending").length),n=ie(()=>d=>t.value.filter(h=>h.reported_by===d)),i=ie(()=>d=>t.value.filter(h=>h.student_id===d)),o=ie(()=>d=>t.value.filter(h=>h.status===d));return{reports:t,loading:e,error:s,getPendingReportsCount:r,getReportsByTrainer:n,getReportsByStudent:i,getReportsByStatus:o,loadReports:async()=>{e.value=!0;try{const d=await ke.getReports();d.error?s.value=d.error.message:t.value=d.data||[]}catch(d){s.value=d.message}finally{e.value=!1}},addReport:async d=>{try{const h=await ke.addReport(d);return h.error?(s.value=h.error.message,null):(t.value.unshift(h.data),h.data)}catch(h){return s.value=h.message,null}},updateReportStatus:async(d,h,p="",w="")=>{try{const x=await ke.updateReportStatus(d,h,p,w);if(x.error)return s.value=x.error.message,!1;{const b=t.value.findIndex(_=>_.id===d);return b!==-1&&(t.value[b]=x.data),!0}}catch(x){return s.value=x.message,!1}},deleteReport:d=>{const h=t.value.findIndex(p=>p.id===d);h!==-1&&t.value.splice(h,1)}}}),Km={class:"min-h-screen bg-gray-50"},zm={class:"bg-white shadow-sm"},Gm={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Jm={class:"flex justify-between items-center py-4"},Qm={class:"flex items-center space-x-4 rtl:space-x-reverse"},Ym={class:"text-sm text-gray-600"},Xm={class:"flex items-center space-x-4 rtl:space-x-reverse"},Zm={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},ev={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},tv={class:"bg-white rounded-xl shadow-lg mb-8"},sv={class:"border-b border-gray-200"},rv={class:"flex space-x-8 rtl:space-x-reverse px-6"},nv=["onClick"],iv={class:"flex items-center space-x-2 rtl:space-x-reverse"},ov={key:0,class:"bg-white rounded-xl shadow-lg p-6 mb-8"},av={class:"flex items-center space-x-4 rtl:space-x-reverse"},lv={class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"},cv={class:"text-2xl font-bold text-gray-900"},uv={class:"text-gray-600"},dv={key:1,class:"bg-white rounded-xl shadow-lg p-6 mb-8"},fv={class:"flex items-center space-x-3 rtl:space-x-reverse mb-6"},hv={class:"grid md:grid-cols-2 gap-4"},pv=["value"],gv={class:"flex space-x-4 rtl:space-x-reverse mb-4"},mv={class:"flex items-center"},vv={class:"flex items-center"},yv={key:0},bv={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center"},_v={key:0,class:"mt-2 text-sm text-green-600"},wv={key:1},xv={key:2,class:"bg-white rounded-xl shadow-lg p-6"},Sv={class:"flex items-center space-x-3 rtl:space-x-reverse mb-6"},kv={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},Ev=["onClick"],Cv={class:"font-semibold text-gray-900 mb-2"},$v={class:"text-sm text-gray-600 mb-3"},Tv={class:"flex items-center justify-between text-sm text-gray-500"},Pv={class:"flex items-center space-x-2 rtl:space-x-reverse"},Av={class:"flex items-center space-x-2 rtl:space-x-reverse"},Ov={key:3,class:"bg-white rounded-xl shadow-lg p-6 mb-8"},Rv={class:"flex items-center space-x-3 rtl:space-x-reverse mb-6"},jv={class:"grid md:grid-cols-2 gap-4"},Iv=["value"],Uv={class:"grid md:grid-cols-2 gap-4"},Lv={type:"submit",class:"w-full bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 flex items-center justify-center space-x-2 rtl:space-x-reverse"},Dv={key:4,class:"bg-white rounded-xl shadow-lg p-6"},Mv={class:"flex items-center space-x-3 rtl:space-x-reverse mb-6"},Nv={key:0,class:"text-center py-12"},Bv={key:1,class:"space-y-4"},Fv={class:"flex justify-between items-start mb-3"},qv={class:"font-semibold text-gray-900"},Vv={class:"text-sm text-gray-600"},Hv={class:"flex items-center space-x-2 rtl:space-x-reverse"},Wv={class:"text-gray-700 mb-3"},Kv={key:0,class:"mb-3"},zv={class:"text-sm text-gray-600"},Gv={key:1,class:"mb-3 p-3 bg-gray-100 rounded-lg"},Jv={class:"text-sm text-gray-600"},Qv={class:"flex justify-between text-sm text-gray-500"},Yv={key:0},Xv={__name:"TrainerDashboard",setup(t){const e=nn(),s=$s(),r=cr(),n=sc(),i=Wm(),o=ne("overview"),a=ne(!1),l=ne({title:"",classId:"",duration:"",section:"",videoUrl:""}),u=ne({studentId:"",studentName:"",studentCode:"",reportType:"",severity:"",title:"",description:"",actionTaken:""}),c=[{id:"overview",name:"نظرة عامة",icon:gs},{id:"upload",name:"رفع فيديو",icon:ra},{id:"reports",name:"تبليغ عن طالب",icon:sa},{id:"my-reports",name:"تبليغاتي",icon:Js}],d=ne([{id:1,name:"أحمد محمد",code:"ST001",class:"الصف الأول - تخصص عام"},{id:2,name:"فاطمة علي",code:"ST002",class:"الصف الثاني - تخصص مياه شرب"},{id:5,name:"محمد حسن",code:"ST003",class:"الصف الثاني - تخصص صرف صحي"},{id:6,name:"سارة أحمد",code:"ST004",class:"الصف الثالث - تخصص مياه شرب"},{id:7,name:"عمر محمود",code:"ST005",class:"الصف الثالث - تخصص صرف صحي"}]),h=ne("file"),p=ne(null),w=ie(()=>s.user?n.getUnreadWarningsCount(s.user.id,s.user.role):0),x=ie(()=>{var P,v;return i.getReportsByTrainer(((P=s.user)==null?void 0:P.email)||((v=s.user)==null?void 0:v.username))}),b=()=>{s.logout(),e.push("/")},_=P=>{p.value=P.target.files[0]},$=()=>{var v;if(h.value==="file"&&!p.value){alert("يرجى اختيار ملف فيديو");return}if(h.value==="url"&&!l.value.videoUrl){alert("يرجى إدخال رابط الفيديو");return}const P={title:l.value.title,duration:l.value.duration,trainer:s.user.name,videoUrl:h.value==="url"?l.value.videoUrl:null,fileName:h.value==="file"?(v=p.value)==null?void 0:v.name:null};r.addVideo(l.value.classId,P),l.value={title:"",classId:"",duration:"",section:"",videoUrl:""},p.value=null,h.value="file",alert("تم رفع الفيديو بنجاح!")},C=P=>{e.push(`/class/${P}`)},A=()=>{const P=d.value.find(v=>v.id===parseInt(u.value.studentId));P&&(u.value.studentName=P.name,u.value.studentCode=P.code)},U=()=>{if(!u.value.studentId||!u.value.reportType||!u.value.title||!u.value.description){alert("يرجى ملء جميع الحقول المطلوبة");return}const P={studentId:parseInt(u.value.studentId),studentName:u.value.studentName,studentCode:u.value.studentCode,reportedBy:s.user.email||s.user.username,trainerName:s.user.name,reportType:u.value.reportType,severity:u.value.severity,title:u.value.title,description:u.value.description,actionTaken:u.value.actionTaken};i.addReport(P),u.value={studentId:"",studentName:"",studentCode:"",reportType:"",severity:"",title:"",description:"",actionTaken:""},alert("تم إرسال التبليغ بنجاح!")};return(P,v)=>{var Q,X,he;return D(),B("div",Km,[f("header",zm,[f("div",Gm,[f("div",Jm,[f("div",Qm,[W(H(hn),{class:"w-8 h-8 text-blue-600"}),f("div",null,[v[17]||(v[17]=f("h1",{class:"text-xl font-semibold text-gray-900"},"لوحة المدرب",-1)),f("p",Ym,"مرحباً "+F((Q=H(s).user)==null?void 0:Q.name),1)])]),f("div",Xm,[f("button",{onClick:v[0]||(v[0]=O=>a.value=!0),class:"relative text-gray-600 hover:text-gray-900 p-2",title:"التحذيرات والإشعارات"},[W(H(ec),{class:"w-6 h-6"}),w.value>0?(D(),B("span",Zm,F(w.value),1)):ve("",!0)]),f("button",{onClick:b,class:"text-gray-600 hover:text-gray-900 flex items-center space-x-2 rtl:space-x-reverse"},[W(H(ji),{class:"w-5 h-5"}),v[18]||(v[18]=f("span",null,"تسجيل الخروج",-1))])])])])]),f("div",ev,[f("div",tv,[f("div",sv,[f("nav",rv,[(D(),B(Se,null,et(c,O=>f("button",{key:O.id,onClick:je=>o.value=O.id,class:ut(["py-4 px-2 border-b-2 font-medium text-sm transition-colors",o.value===O.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[f("div",iv,[(D(),ki(uu(O.icon),{class:"w-5 h-5"})),f("span",null,F(O.name),1)])],10,nv)),64))])])]),o.value==="overview"?(D(),B("div",ov,[f("div",av,[f("div",lv,[W(H(tc),{class:"w-8 h-8 text-green-600"})]),f("div",null,[f("h2",cv,F((X=H(s).user)==null?void 0:X.name),1),f("p",uv,"مدرب "+F((he=H(s).user)==null?void 0:he.specialization),1)])])])):ve("",!0),o.value==="upload"?(D(),B("div",dv,[f("div",fv,[W(H(ra),{class:"w-6 h-6 text-blue-600"}),v[19]||(v[19]=f("h3",{class:"text-xl font-semibold text-gray-900"},"رفع فيديو جديد",-1))]),f("form",{onSubmit:nr($,["prevent"]),class:"space-y-4"},[f("div",hv,[f("div",null,[v[20]||(v[20]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"عنوان الفيديو",-1)),_e(f("input",{"onUpdate:modelValue":v[1]||(v[1]=O=>l.value.title=O),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"أدخل عنوان الفيديو"},null,512),[[We,l.value.title]])]),f("div",null,[v[22]||(v[22]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الفئة المستهدفة",-1)),_e(f("select",{"onUpdate:modelValue":v[2]||(v[2]=O=>l.value.classId=O),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[v[21]||(v[21]=f("option",{value:""},"اختر الفئة المستهدفة",-1)),(D(!0),B(Se,null,et(H(r).classes,O=>(D(),B("option",{key:O.id,value:O.id},F(O.name),9,pv))),128))],512),[[ds,l.value.classId]])])]),f("div",null,[v[23]||(v[23]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"مدة الفيديو",-1)),_e(f("input",{"onUpdate:modelValue":v[3]||(v[3]=O=>l.value.duration=O),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: 45:30"},null,512),[[We,l.value.duration]])]),f("div",null,[v[25]||(v[25]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"تصنيف الفيديو",-1)),_e(f("select",{"onUpdate:modelValue":v[4]||(v[4]=O=>l.value.section=O),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},v[24]||(v[24]=[f("option",{value:""},"اختر تصنيف الفيديو",-1),f("option",{value:"practical"},"فيديوهات عملي",-1),f("option",{value:"review"},"فيديوهات مراجعة",-1)]),512),[[ds,l.value.section]])]),f("div",null,[v[30]||(v[30]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"طريقة رفع الفيديو",-1)),f("div",gv,[f("label",mv,[_e(f("input",{type:"radio","onUpdate:modelValue":v[5]||(v[5]=O=>h.value=O),value:"file",class:"mr-2 ml-2"},null,512),[[ho,h.value]]),v[26]||(v[26]=f("span",null,"رفع ملف فيديو",-1))]),f("label",vv,[_e(f("input",{type:"radio","onUpdate:modelValue":v[6]||(v[6]=O=>h.value=O),value:"url",class:"mr-2 ml-2"},null,512),[[ho,h.value]]),v[27]||(v[27]=f("span",null,"رابط فيديو",-1))])]),h.value==="file"?(D(),B("div",yv,[f("div",bv,[W(H(lr),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),v[28]||(v[28]=f("p",{class:"text-gray-600 mb-2"},"اسحب الفيديو هنا أو انقر للاختيار",-1)),f("input",{type:"file",accept:"video/*",class:"hidden",ref:"fileInput",onChange:_},null,544),f("button",{type:"button",onClick:v[7]||(v[7]=O=>P.$refs.fileInput.click()),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"}," اختيار فيديو ")]),p.value?(D(),B("p",_v," تم اختيار: "+F(p.value.name),1)):ve("",!0)])):ve("",!0),h.value==="url"?(D(),B("div",wv,[_e(f("input",{"onUpdate:modelValue":v[8]||(v[8]=O=>l.value.videoUrl=O),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"أدخل رابط الفيديو (YouTube, Vimeo, إلخ)"},null,512),[[We,l.value.videoUrl]]),v[29]||(v[29]=f("p",{class:"mt-2 text-sm text-gray-500"}," يمكنك إدخال رابط من YouTube أو Vimeo أو أي منصة فيديو أخرى ",-1))])):ve("",!0)]),v[31]||(v[31]=f("button",{type:"submit",class:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500"}," رفع الفيديو ",-1))],32)])):ve("",!0),o.value==="overview"?(D(),B("div",xv,[f("div",Sv,[W(H(gs),{class:"w-6 h-6 text-blue-600"}),v[32]||(v[32]=f("h3",{class:"text-xl font-semibold text-gray-900"},"الصفوف الدراسية",-1))]),f("div",kv,[(D(!0),B(Se,null,et(H(r).classes,O=>(D(),B("div",{key:O.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:je=>C(O.id)},[f("h4",Cv,F(O.name),1),f("p",$v,F(O.description),1),f("div",Tv,[f("span",Pv,[W(H(bg),{class:"w-4 h-4"}),f("span",null,F(O.students)+" طالب",1)]),f("span",Av,[W(H(lr),{class:"w-4 h-4"}),f("span",null,F(H(r).getVideosByClass(O.id).length)+" فيديو",1)])])],8,Ev))),128))])])):ve("",!0),o.value==="reports"?(D(),B("div",Ov,[f("div",Rv,[W(H(sa),{class:"w-6 h-6 text-orange-600"}),v[33]||(v[33]=f("h3",{class:"text-xl font-semibold text-gray-900"},"تبليغ عن سلوك طالب",-1))]),f("form",{onSubmit:nr(U,["prevent"]),class:"space-y-6"},[f("div",jv,[f("div",null,[v[35]||(v[35]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"اختر الطالب",-1)),_e(f("select",{"onUpdate:modelValue":v[9]||(v[9]=O=>u.value.studentId=O),onChange:A,required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},[v[34]||(v[34]=f("option",{value:""},"اختر الطالب",-1)),(D(!0),B(Se,null,et(d.value,O=>(D(),B("option",{key:O.id,value:O.id},F(O.name)+" - "+F(O.code),9,Iv))),128))],544),[[ds,u.value.studentId]])]),f("div",null,[v[37]||(v[37]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"نوع التبليغ",-1)),_e(f("select",{"onUpdate:modelValue":v[10]||(v[10]=O=>u.value.reportType=O),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},v[36]||(v[36]=[er('<option value="">اختر نوع التبليغ</option><option value="behavior">سلوك غير مناسب</option><option value="attendance">مشاكل الحضور</option><option value="academic">مشاكل أكاديمية</option><option value="other">أخرى</option>',5)]),512),[[ds,u.value.reportType]])])]),f("div",Uv,[f("div",null,[v[39]||(v[39]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"درجة الخطورة",-1)),_e(f("select",{"onUpdate:modelValue":v[11]||(v[11]=O=>u.value.severity=O),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},v[38]||(v[38]=[f("option",{value:""},"اختر درجة الخطورة",-1),f("option",{value:"info"},"إشعار عادي",-1),f("option",{value:"warning"},"تحذير",-1),f("option",{value:"critical"},"حرج",-1)]),512),[[ds,u.value.severity]])]),f("div",null,[v[40]||(v[40]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"كود الطالب",-1)),_e(f("input",{"onUpdate:modelValue":v[12]||(v[12]=O=>u.value.studentCode=O),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",placeholder:"سيتم ملؤه تلقائياً"},null,512),[[We,u.value.studentCode]])])]),f("div",null,[v[41]||(v[41]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"عنوان التبليغ",-1)),_e(f("input",{"onUpdate:modelValue":v[13]||(v[13]=O=>u.value.title=O),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"أدخل عنوان مختصر للتبليغ"},null,512),[[We,u.value.title]])]),f("div",null,[v[42]||(v[42]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"وصف المشكلة",-1)),_e(f("textarea",{"onUpdate:modelValue":v[14]||(v[14]=O=>u.value.description=O),required:"",rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"اشرح المشكلة بالتفصيل..."},null,512),[[We,u.value.description]])]),f("div",null,[v[43]||(v[43]=f("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الإجراء المتخذ (اختياري)",-1)),_e(f("textarea",{"onUpdate:modelValue":v[15]||(v[15]=O=>u.value.actionTaken=O),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"اذكر أي إجراء قمت باتخاذه..."},null,512),[[We,u.value.actionTaken]])]),f("button",Lv,[W(H(vg),{class:"w-5 h-5"}),v[44]||(v[44]=f("span",null,"إرسال التبليغ",-1))])],32)])):ve("",!0),o.value==="my-reports"?(D(),B("div",Dv,[f("div",Mv,[W(H(Js),{class:"w-6 h-6 text-blue-600"}),v[45]||(v[45]=f("h3",{class:"text-xl font-semibold text-gray-900"},"تبليغاتي",-1))]),x.value.length===0?(D(),B("div",Nv,[W(H(Js),{class:"w-16 h-16 text-gray-300 mx-auto mb-4"}),v[46]||(v[46]=f("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"لا توجد تبليغات",-1)),v[47]||(v[47]=f("p",{class:"text-gray-600"},"لم تقم بإرسال أي تبليغات بعد",-1))])):(D(),B("div",Bv,[(D(!0),B(Se,null,et(x.value,O=>(D(),B("div",{key:O.id,class:ut(["border rounded-lg p-4",[O.severity==="critical"?"border-l-4 border-l-red-500 bg-red-50":O.severity==="warning"?"border-l-4 border-l-orange-500 bg-orange-50":"border-l-4 border-l-blue-500 bg-blue-50"]])},[f("div",Fv,[f("div",null,[f("h4",qv,F(O.title),1),f("p",Vv,"الطالب: "+F(O.studentName)+" ("+F(O.studentCode)+")",1)]),f("div",Hv,[f("span",{class:ut(["text-xs px-2 py-1 rounded-full",[O.status==="resolved"?"bg-green-100 text-green-800":O.status==="reviewed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"]])},F(O.status==="resolved"?"تم الحل":O.status==="reviewed"?"تمت المراجعة":"قيد المراجعة"),3),f("span",{class:ut(["text-xs px-2 py-1 rounded-full",[O.severity==="critical"?"bg-red-100 text-red-800":O.severity==="warning"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"]])},F(O.severity==="critical"?"حرج":O.severity==="warning"?"تحذير":"عادي"),3)])]),f("p",Wv,F(O.description),1),O.actionTaken?(D(),B("div",Kv,[v[48]||(v[48]=f("p",{class:"text-sm font-medium text-gray-700"},"الإجراء المتخذ:",-1)),f("p",zv,F(O.actionTaken),1)])):ve("",!0),O.adminNotes&&O.status!=="pending"?(D(),B("div",Gv,[v[49]||(v[49]=f("p",{class:"text-sm font-medium text-gray-700"},"ملاحظات الإدارة:",-1)),f("p",Jv,F(O.adminNotes),1)])):ve("",!0),f("div",Qv,[f("span",null,F(new Date(O.createdAt).toLocaleDateString("ar-EG")),1),O.reviewedAt?(D(),B("span",Yv," تمت المراجعة: "+F(new Date(O.reviewedAt).toLocaleDateString("ar-EG")),1)):ve("",!0)])],2))),128))]))])):ve("",!0)]),W(rc,{"is-open":a.value,onClose:v[16]||(v[16]=O=>a.value=!1)},null,8,["is-open"])])}}},Zv={class:"admin-dashboard"},e0={__name:"AdminDashboard",setup(t){return(e,s)=>(D(),B("div",Zv,s[0]||(s[0]=[f("h1",null,"Admin Dashboard",-1),f("p",null,"Welcome to the admin dashboard.",-1)])))}},t0=Ii(e0,[["__scopeId","data-v-b700c289"]]),s0={name:"ClassView",data(){return{activeSection:"practical",sections:[{id:"practical",name:"فيديوهات عملي",icon:"fas fa-laptop-code"},{id:"review",name:"فيديوهات مراجعة",icon:"fas fa-redo"},{id:"files",name:"ملفات وملخصات",icon:"fas fa-file-alt"}]}},computed:{...jd(cr,["selectedClass","videos","files"]),practicalVideos(){return this.videos.filter(t=>{var e;return t.classId===((e=this.selectedClass)==null?void 0:e.id)&&t.category==="practical"})},reviewVideos(){return this.videos.filter(t=>{var e;return t.classId===((e=this.selectedClass)==null?void 0:e.id)&&t.category==="review"})}},methods:{goBack(){this.$router.push("/student")},playVideo(t){cr().setSelectedVideo(t),this.$router.push("/video-player")},downloadFile(t){console.log("تحميل الملف:",t.title)},getFileIcon(t){const e={pdf:"fas fa-file-pdf",doc:"fas fa-file-word",docx:"fas fa-file-word",ppt:"fas fa-file-powerpoint",pptx:"fas fa-file-powerpoint",txt:"fas fa-file-alt",default:"fas fa-file"};return e[t]||e.default}}},r0={class:"class-view"},n0={class:"class-header"},i0={class:"tabs"},o0=["onClick"],a0={class:"section-content"},l0={key:0,class:"videos-section"},c0={key:0,class:"no-content"},u0={key:1,class:"videos-grid"},d0=["onClick"],f0={class:"video-info"},h0={class:"video-duration"},p0={key:1,class:"videos-section"},g0={key:0,class:"no-content"},m0={key:1,class:"videos-grid"},v0=["onClick"],y0={class:"video-info"},b0={class:"video-duration"},_0={key:2,class:"files-section"},w0={key:0,class:"no-content"},x0={key:1,class:"files-grid"},S0=["onClick"],k0={class:"file-icon"},E0={class:"file-info"},C0={class:"file-size"};function $0(t,e,s,r,n,i){var o;return D(),B("div",r0,[f("div",n0,[f("button",{onClick:e[0]||(e[0]=(...a)=>i.goBack&&i.goBack(...a)),class:"back-btn"},e[1]||(e[1]=[f("i",{class:"fas fa-arrow-right"},null,-1),Mr(" العودة ")])),f("h1",null,F((o=t.selectedClass)==null?void 0:o.name),1)]),f("div",i0,[(D(!0),B(Se,null,et(n.sections,a=>(D(),B("button",{key:a.id,onClick:l=>n.activeSection=a.id,class:ut(["tab",{active:n.activeSection===a.id}])},[f("i",{class:ut(a.icon)},null,2),Mr(" "+F(a.name),1)],10,o0))),128))]),f("div",a0,[n.activeSection==="practical"?(D(),B("div",l0,[e[4]||(e[4]=f("h2",null,"فيديوهات عملي",-1)),i.practicalVideos.length===0?(D(),B("div",c0,e[2]||(e[2]=[f("i",{class:"fas fa-video"},null,-1),f("p",null,"لا توجد فيديوهات عملي متاحة حالياً",-1)]))):(D(),B("div",u0,[(D(!0),B(Se,null,et(i.practicalVideos,a=>(D(),B("div",{key:a.id,onClick:l=>i.playVideo(a),class:"video-card"},[e[3]||(e[3]=f("div",{class:"video-thumbnail"},[f("i",{class:"fas fa-play"})],-1)),f("div",f0,[f("h3",null,F(a.title),1),f("p",null,F(a.description),1),f("span",h0,F(a.duration),1)])],8,d0))),128))]))])):ve("",!0),n.activeSection==="review"?(D(),B("div",p0,[e[7]||(e[7]=f("h2",null,"فيديوهات مراجعة",-1)),i.reviewVideos.length===0?(D(),B("div",g0,e[5]||(e[5]=[f("i",{class:"fas fa-video"},null,-1),f("p",null,"لا توجد فيديوهات مراجعة متاحة حالياً",-1)]))):(D(),B("div",m0,[(D(!0),B(Se,null,et(i.reviewVideos,a=>(D(),B("div",{key:a.id,onClick:l=>i.playVideo(a),class:"video-card"},[e[6]||(e[6]=f("div",{class:"video-thumbnail"},[f("i",{class:"fas fa-play"})],-1)),f("div",y0,[f("h3",null,F(a.title),1),f("p",null,F(a.description),1),f("span",b0,F(a.duration),1)])],8,v0))),128))]))])):ve("",!0),n.activeSection==="files"?(D(),B("div",_0,[e[9]||(e[9]=f("h2",null,"ملفات وملخصات",-1)),t.files.length===0?(D(),B("div",w0,e[8]||(e[8]=[f("i",{class:"fas fa-file-alt"},null,-1),f("p",null,"لا توجد ملفات أو ملخصات متاحة حالياً",-1)]))):(D(),B("div",x0,[(D(!0),B(Se,null,et(t.files,a=>(D(),B("div",{key:a.id,onClick:l=>i.downloadFile(a),class:"file-card"},[f("div",k0,[f("i",{class:ut(i.getFileIcon(a.type))},null,2)]),f("div",E0,[f("h3",null,F(a.title),1),f("p",null,F(a.description),1),f("span",C0,F(a.size),1)])],8,S0))),128))]))])):ve("",!0)])])}const T0=Ii(s0,[["render",$0],["__scopeId","data-v-49e75705"]]),P0={class:"min-h-screen bg-gray-50"},A0={class:"bg-white shadow-sm"},O0={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},R0={class:"flex justify-between items-center py-4"},j0={class:"flex items-center space-x-4 rtl:space-x-reverse"},I0={class:"text-xl font-semibold text-gray-900"},U0={class:"text-sm text-gray-600"},L0={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},D0={key:0},M0={class:"bg-white rounded-xl shadow-lg overflow-hidden mb-8"},N0={class:"aspect-video bg-gray-900 flex items-center justify-center"},B0={key:0,class:"w-full h-full"},F0=["src"],q0={key:1,class:"text-center text-white"},V0={class:"text-xl font-semibold mb-2"},H0={class:"text-gray-300"},W0={class:"text-sm text-gray-400 mt-2"},K0={key:0,class:"text-sm text-gray-400"},z0={class:"bg-white rounded-xl shadow-lg p-6 mb-8"},G0={class:"flex items-start justify-between mb-4"},J0={class:"text-2xl font-bold text-gray-900 mb-2"},Q0={class:"flex items-center space-x-4 rtl:space-x-reverse text-gray-600"},Y0={class:"flex items-center space-x-2 rtl:space-x-reverse"},X0={class:"flex items-center space-x-2 rtl:space-x-reverse"},Z0={class:"flex items-center space-x-2 rtl:space-x-reverse"},ey={class:"bg-white rounded-xl shadow-lg p-6"},ty={class:"flex items-center space-x-4 rtl:space-x-reverse"},sy={class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 rtl:space-x-reverse"},ry={class:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center space-x-2 rtl:space-x-reverse"},ny={class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2 rtl:space-x-reverse"},iy={key:1,class:"text-center py-12"},oy={__name:"VideoPlayer",setup(t){const e=Mf(),s=nn(),r=$s(),n=cr(),i=ie(()=>n.getVideoById(e.params.videoId)),o=c=>c?c.includes("youtube.com")||c.includes("youtu.be")||c.includes("vimeo.com")||c.includes("dailymotion.com"):!1,a=c=>c?c.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${c.split("v=")[1].split("&")[0]}`:c.includes("youtu.be/")?`https://www.youtube.com/embed/${c.split("youtu.be/")[1].split("?")[0]}`:c.includes("vimeo.com/")?`https://player.vimeo.com/video/${c.split("vimeo.com/")[1].split("?")[0]}`:c.includes("dailymotion.com/video/")?`https://www.dailymotion.com/embed/video/${c.split("video/")[1].split("?")[0]}`:c:"",l=()=>{s.go(-1)},u=()=>{r.logout(),s.push("/")};return(c,d)=>{var h,p;return D(),B("div",P0,[f("header",A0,[f("div",O0,[f("div",R0,[f("div",j0,[f("button",{onClick:l,class:"text-gray-600 hover:text-gray-900"},[W(H(dg),{class:"w-6 h-6"})]),W(H(hn),{class:"w-8 h-8 text-blue-600"}),f("div",null,[f("h1",I0,F((h=i.value)==null?void 0:h.title),1),f("p",U0,F((p=i.value)==null?void 0:p.trainer),1)])]),f("button",{onClick:u,class:"text-gray-600 hover:text-gray-900 flex items-center space-x-2 rtl:space-x-reverse"},[W(H(ji),{class:"w-5 h-5"}),d[0]||(d[0]=f("span",null,"تسجيل الخروج",-1))])])])]),f("div",L0,[i.value?(D(),B("div",D0,[f("div",M0,[f("div",N0,[i.value.videoUrl&&o(i.value.videoUrl)?(D(),B("div",B0,[f("iframe",{src:a(i.value.videoUrl),class:"w-full h-full",frameborder:"0",allowfullscreen:""},null,8,F0)])):(D(),B("div",q0,[W(H(ta),{class:"w-16 h-16 mx-auto mb-4"}),f("h3",V0,F(i.value.title),1),f("p",H0,F(i.value.fileName?"ملف فيديو محلي":"مشغل الفيديو (تجريبي)"),1),f("p",W0,"المدة: "+F(i.value.duration),1),i.value.fileName?(D(),B("p",K0," الملف: "+F(i.value.fileName),1)):ve("",!0)]))])]),f("div",z0,[f("div",G0,[f("div",null,[f("h2",J0,F(i.value.title),1),f("div",Q0,[f("span",Y0,[W(H(tc),{class:"w-5 h-5"}),f("span",null,F(i.value.trainer),1)]),f("span",X0,[W(H(hg),{class:"w-5 h-5"}),f("span",null,F(i.value.duration),1)]),f("span",Z0,[W(H(fg),{class:"w-5 h-5"}),f("span",null,F(i.value.uploadDate),1)])])])])]),f("div",ey,[d[4]||(d[4]=f("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"أدوات التحكم",-1)),f("div",ty,[f("button",sy,[W(H(ta),{class:"w-5 h-5"}),d[1]||(d[1]=f("span",null,"تشغيل",-1))]),f("button",ry,[W(H(mg),{class:"w-5 h-5"}),d[2]||(d[2]=f("span",null,"إيقاف مؤقت",-1))]),f("button",ny,[W(H(pg),{class:"w-5 h-5"}),d[3]||(d[3]=f("span",null,"تحميل",-1))])])])])):(D(),B("div",iy,[W(H(lr),{class:"w-16 h-16 text-gray-300 mx-auto mb-4"}),d[5]||(d[5]=f("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"الفيديو غير موجود",-1)),d[6]||(d[6]=f("p",{class:"text-gray-600"},"لم يتم العثور على الفيديو المطلوب",-1))]))])])}}},ay=[{path:"/",name:"Home",component:og},{path:"/login",name:"Login",component:Bg},{path:"/student",name:"StudentDashboard",component:Hm,meta:{requiresAuth:!0,role:"student"}},{path:"/trainer",name:"TrainerDashboard",component:Xv,meta:{requiresAuth:!0,role:"trainer"}},{path:"/admin",name:"AdminDashboard",component:t0,meta:{requiresAuth:!0,role:"admin"}},{path:"/class/:classId",name:"ClassView",component:T0,meta:{requiresAuth:!0}},{path:"/video/:videoId",name:"VideoPlayer",component:oy,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],nc=Lf({history:df("./"),routes:ay});nc.beforeEach(async(t,e,s)=>{var r,n,i;try{const o=$s();if(!o.user&&!o.loading&&await o.initAuth(),t.meta.requiresAuth&&!o.isAuthenticated){s("/login");return}if(t.name==="Login"&&o.isAuthenticated){const a=(r=o.profile)==null?void 0:r.role;s(a==="student"?"/student":a==="trainer"?"/trainer":a==="admin"?"/admin":"/");return}if(t.name==="Home"&&o.isAuthenticated){const a=(n=o.profile)==null?void 0:n.role;a==="student"?s("/student"):a==="trainer"?s("/trainer"):a==="admin"?s("/admin"):s();return}if(t.meta.role&&((i=o.profile)==null?void 0:i.role)!==t.meta.role){s("/");return}s()}catch(o){console.error("Router navigation error:",o),s("/")}});const ly={id:"app",class:"font-arabic"},cy={key:0,class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50"},uy={__name:"App",setup(t){const e=$s();return wi(()=>{e.initAuth()}),(s,r)=>{const n=Va("router-view");return D(),B("div",ly,[H(e).loading?(D(),B("div",cy,r[0]||(r[0]=[f("div",{class:"text-center"},[f("div",{class:"loading-spinner w-12 h-12 mx-auto mb-4"}),f("p",{class:"text-gray-600"},"جاري التحميل...")],-1)]))):(D(),ki(n,{key:1}))])}}},dy=document.getElementById("app");dy||console.error("Could not find #app element");const pn=kd(uy),fy=$d();pn.use(fy);pn.use(nc);pn.config.errorHandler=(t,e,s)=>{console.error("Vue error:",t,s)};pn.mount("#app");
